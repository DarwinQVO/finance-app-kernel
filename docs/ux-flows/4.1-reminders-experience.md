# UX Flow: 4.1 Reminders Experience

> **Vertical:** 4.1 Reminders
> **User Goal:** Receive timely alerts for important events (low balance, missing payments, due dates)
> **Primary Persona:** Busy professional managing multiple accounts and recurring payments

---

## User Journeys

### Journey 1: First-time Setup - Create Low Balance Reminder (Happy Path)

**Scenario:** User wants to be notified when checking account balance drops below $500

**Steps:**

1. **User navigates to Settings → Reminders**
   - URL: `/settings/reminders`
   - Sees empty state: "No reminders configured yet"
   - Call-to-action: "Create your first reminder"

2. **User clicks "Create Reminder" button**
   - ReminderConfigDialog modal opens (600px wide, centered)
   - Focus traps in dialog (Esc to close, Tab to navigate fields)
   ```
   ┌──────────────────────────────────────────────────┐
   │ Create Reminder                               [X]│
   ├──────────────────────────────────────────────────┤
   │                                                  │
   │ Name (optional)                                  │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Low balance alert - Checking                 │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Alert Type *                                     │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Low Balance                              [v] │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Account *                                        │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Chase Checking (...4567)                 [v] │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Threshold Amount *                               │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ $  500.00                                    │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Notify me via                                    │
   │ ☑ In-app notification                            │
   │ ☑ Email                                          │
   │ ☐ SMS (optional)                                 │
   │ ☐ Push notification (optional)                   │
   │                                                  │
   │ [ Cancel ]                  [ Create Reminder ] │
   └──────────────────────────────────────────────────┘
   ```

3. **User fills form**
   - Name: "Low balance alert - Checking"
   - Alert Type: "Low Balance" (selected from dropdown)
   - Account: "Chase Checking (...4567)" (selected from AccountSelector)
   - Threshold: "$500.00" (number input with currency formatting)
   - Channels: Checks "In-app" + "Email" (both enabled)

4. **User clicks "Create Reminder"**
   - Validation runs:
     - Name: Optional, valid ✅
     - Alert Type: Required, selected ✅
     - Account: Required, selected ✅
     - Threshold: Required, >$0 ✅
     - Channels: At least 1 required ✅
   - Request: `POST /api/reminders`
     ```json
     {
       "name": "Low balance alert - Checking",
       "rule_type": "low_balance",
       "condition": {
         "condition_type": "threshold",
         "operator": "less_than",
         "threshold_amount": 500.00,
         "account_filter": ["acc_chase_checking_4567"]
       },
       "notification_channels": ["in_app", "email"],
       "enabled": true
     }
     ```
   - Response: `201 Created`
     ```json
     {
       "reminder_id": "rem_abc123",
       "status": "active",
       "created_at": "2025-10-24T14:30:00Z"
     }
     ```

5. **System confirms creation**
   - Dialog closes
   - Toast notification appears: "✅ Reminder created successfully"
   - Reminder appears in list (Settings → Reminders page)
   ```
   ┌──────────────────────────────────────────────────────────┐
   │ Active Reminders (1)                                     │
   ├──────────────────────────────────────────────────────────┤
   │ ┌────────────────────────────────────────────────────┐   │
   │ │ 🔔 Low balance alert - Checking                    │   │
   │ │ Alert when: Balance < $500.00                      │   │
   │ │ Account: Chase Checking (...4567)                  │   │
   │ │ Channels: In-app, Email                            │   │
   │ │ Status: Active                                     │   │
   │ │                                     [ Edit ] [ ⚙ ]│   │
   │ └────────────────────────────────────────────────────┘   │
   └──────────────────────────────────────────────────────────┘
   ```

**Outcome:** ✅ User will receive notifications when balance drops below $500

**Duration:** 45 seconds (form fill) + 500ms (API roundtrip)

---

### Journey 2: Receive and Snooze Low Balance Notification

**Scenario:** Balance drops to $450 after rent payment. User is aware, wants to snooze until payday (4 hours)

**Steps:**

1. **Background: Rent payment processed**
   - Transaction normalized: Rent $1200 debit from Chase Checking
   - New balance: $450.00
   - Alert rule evaluator runs
   - Condition check: $450 < $500? ✅ True
   - Alert triggered

2. **System creates notification**
   - Request: `POST /api/notifications`
     ```json
     {
       "reminder_id": "rem_abc123",
       "user_id": "user_xyz789",
       "title": "Low balance alert",
       "message": "Your Chase Checking balance is $450.00 (below $500.00 threshold)",
       "severity": "warning",
       "delivery_channel": "in_app",
       "action_url": "/accounts/acc_chase_checking_4567",
       "action_label": "View Account"
     }
     ```

3. **User receives notification (WebSocket real-time)**
   - ReminderBell icon updates (header, top-right)
   ```
   Before:  🔔           After:  🔔 (1)
                                 └─ Red badge
   ```

4. **User clicks ReminderBell**
   - NotificationPanel slides in from right (400px wide, desktop)
   - Animation: 300ms ease-out
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (1)]  [Snoozed (0)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ ⚠️ Low balance alert        2 min ago   │ │
   │ │                                          │ │
   │ │ Your Chase Checking balance is $450.00  │ │
   │ │ (below $500.00 threshold)                │ │
   │ │                                          │ │
   │ │ [ View Account ]                         │ │
   │ │                                          │ │
   │ │ [ Snooze ▼ ]           [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   │                                              │
   │ No more notifications                        │
   └──────────────────────────────────────────────┘
   ```

5. **User clicks "Snooze ▼" dropdown**
   - Dropdown menu appears (aligned bottom-left)
   ```
   ┌─────────────────────────┐
   │ ⏰ 1 hour               │
   │ ⏰ 4 hours              │  ← User hovers
   │ ⏰ 1 day                │
   │ ⏰ 2 days               │
   │ ⏰ 1 week               │
   │ ⏰ Custom...            │
   └─────────────────────────┘
   ```

6. **User selects "4 hours"**
   - Request: `PATCH /api/notifications/notif_xyz123`
     ```json
     {
       "action": "snooze",
       "snoozed_until": "2025-10-24T18:30:00Z"
     }
     ```
   - Response: `200 OK`

7. **System updates notification**
   - Notification card removed from "All" tab
   - Notification moved to "Snoozed" tab
   - Badge count decrements: 🔔 (1) → 🔔
   - Toast appears: "⏰ Snoozed for 4 hours"
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (0)]  [Snoozed (1)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ No active notifications                      │
   │                                              │
   │ [ View Snoozed (1) ]                         │
   └──────────────────────────────────────────────┘
   ```

8. **User clicks "Snoozed" tab**
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (0)]  [Snoozed (1)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ ⏰ Low balance alert    Snoozed          │ │
   │ │                                          │ │
   │ │ Will remind you in 3h 58m                │ │
   │ │                                          │ │
   │ │ [ Remind Now ]         [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   └──────────────────────────────────────────────┘
   ```

9. **After 4 hours (background cron job)**
   - System detects: `snoozed_until < NOW()` ? ✅ True
   - Re-triggers notification
   - WebSocket sends notification to client
   - Bell icon updates: 🔔 (1)
   - User receives notification again

**Outcome:** ✅ User controls notification timing (snooze until convenient)

**Duration:** 10 seconds (user interaction)

---

### Journey 3: Missing Payment Alert - Critical Severity

**Scenario:** Rent payment ($1200/month) expected Oct 1, but Oct 3 arrives without payment

**Steps:**

1. **Background: User has recurring series**
   - Series: "Rent - Landlord LLC"
   - Amount: $1200/month
   - Recurrence: Monthly, day 1
   - Last payment: Sep 1, 2025
   - Next expected: Oct 1, 2025

2. **Oct 3, 2025 - Scheduled checker runs**
   - Cron job: Daily at 8:00 AM
   - Query: `SELECT * FROM series_instances WHERE expected_date < NOW() - INTERVAL '2 days' AND status = 'missing'`
   - Result: 1 missing instance (Rent, expected Oct 1)

3. **System triggers critical alert**
   - Alert rule: Missing payment detected (tolerance ±3 days exceeded)
   - Request: `POST /api/notifications`
     ```json
     {
       "reminder_id": "rem_def456",
       "user_id": "user_xyz789",
       "title": "🔴 Missing payment: Rent",
       "message": "Expected payment of $1200.00 on Oct 1, 2025 (2 days overdue)",
       "severity": "critical",
       "delivery_channel": "in_app",
       "action_url": "/series/series_rent_1/instances",
       "action_label": "View Series",
       "metadata": {
         "series_id": "series_rent_1",
         "expected_amount": 1200.00,
         "expected_date": "2025-10-01",
         "days_overdue": 2
       }
     }
     ```

4. **Email fallback triggered** (critical severity)
   - System sends email via SendGrid
   - To: user@example.com
   - Subject: "🔴 Missing payment: Rent ($1200 overdue)"
   - Body:
     ```
     Hi [User],

     Your recurring payment "Rent - Landlord LLC" was expected on Oct 1, 2025 ($1200.00).

     It's now 2 days overdue. Please check your account.

     [View Series] → https://app.example.com/series/series_rent_1

     ---
     You're receiving this because you have a "Missing Payment" reminder configured.
     Manage reminders: https://app.example.com/settings/reminders
     ```

5. **User receives notification (in-app + email)**
   - Bell icon: 🔔 (1) with red indicator (critical severity)
   - User clicks bell
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (1)]  [Snoozed (0)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ 🔴 Missing payment: Rent    5 min ago   │ │
   │ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ │ ← Red border
   │ │                                          │ │
   │ │ Expected payment of $1200.00 on Oct 1,   │ │
   │ │ 2025 (2 days overdue)                    │ │
   │ │                                          │ │
   │ │ [ View Series ]                          │ │
   │ │                                          │ │
   │ │ [ Snooze ▼ ]           [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   └──────────────────────────────────────────────┘
   ```

6. **User clicks "View Series"**
   - Navigates to: `/series/series_rent_1/instances`
   - Sees series detail with missing instance highlighted
   ```
   ┌──────────────────────────────────────────────────────────┐
   │ Series: Rent - Landlord LLC                              │
   ├──────────────────────────────────────────────────────────┤
   │ Amount: $1200/month  |  Recurrence: Monthly, day 1       │
   │                                                           │
   │ Payment History:                                         │
   │ ┌────────────────────────────────────────────────────┐   │
   │ │ 🔴 Oct 1, 2025    $1200.00    Missing (2 days)     │   │ ← Highlighted
   │ │ ✅ Sep 1, 2025    $1200.00    Paid                 │   │
   │ │ ✅ Aug 1, 2025    $1200.00    Paid                 │   │
   │ │ ✅ Jul 1, 2025    $1200.00    Paid                 │   │
   │ └────────────────────────────────────────────────────┘   │
   │                                                           │
   │ [ Link Transaction ]  [ Mark as Paid ]  [ Edit Series ] │
   └──────────────────────────────────────────────────────────┘
   ```

7. **User links transaction**
   - User finds Oct 3 transaction: "LANDLORD LLC - $1200 debit"
   - Clicks "Link Transaction"
   - SeriesSelector opens → selects "Rent - Landlord LLC" → saves
   - Instance status updated: Missing → Paid (Late)
   - Notification auto-dismissed (linked transaction resolves issue)

**Outcome:** ✅ User caught overdue payment, linked transaction, issue resolved

**Duration:** 30 seconds (from notification to resolution)

---

### Journey 4: Large Expense Anomaly Detection

**Scenario:** User makes $5000 Amazon purchase (10× average). System detects anomaly

**Steps:**

1. **Background: User's spending history**
   - Average Amazon purchase (30 days): $50.23
   - Max Amazon purchase (30 days): $189.99
   - Variance multiplier: 3× average = $150.69

2. **New transaction normalized**
   - Merchant: "AMAZON MARKETPLACE"
   - Amount: $5000.00
   - Date: Oct 24, 2025
   - Account: Apple Card

3. **Alert rule evaluator runs (event-driven)**
   - Event: `transaction.normalized`
   - Rule type: "large_expense"
   - Condition check: $5000 > $150.69 (3× avg)? ✅ True
   - Anomaly detected

4. **System creates info notification** (not critical - informational)
   - Request: `POST /api/notifications`
     ```json
     {
       "reminder_id": "rem_ghi789",
       "user_id": "user_xyz789",
       "title": "💡 Large expense detected",
       "message": "$5000.00 Amazon purchase on Apple Card (10× your average)",
       "severity": "info",
       "delivery_channel": "in_app",
       "action_url": "/transactions/txn_abc123",
       "action_label": "View Transaction",
       "metadata": {
         "transaction_id": "txn_abc123",
         "amount": 5000.00,
         "average": 50.23,
         "multiplier": 99.6
       }
     }
     ```

5. **User receives notification**
   - Bell icon: 🔔 (1)
   - User clicks bell
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (1)]  [Snoozed (0)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ 💡 Large expense detected   Just now    │ │
   │ │ ─────────────────────────────────────── │ │ ← Blue border (info)
   │ │                                          │ │
   │ │ $5000.00 Amazon purchase on Apple Card   │ │
   │ │ (10× your average)                       │ │
   │ │                                          │ │
   │ │ [ View Transaction ]                     │ │
   │ │                                          │ │
   │ │ [ Snooze ▼ ]           [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   └──────────────────────────────────────────────┘
   ```

6. **User recognizes purchase (expected)**
   - User: "Oh yeah, I bought a Macbook Pro for work"
   - Clicks "Dismiss" button

7. **System dismisses notification**
   - Request: `PATCH /api/notifications/notif_xyz456`
     ```json
     {
       "action": "dismiss",
       "dismissed_at": "2025-10-24T15:00:00Z"
     }
     ```
   - Response: `200 OK`
   - Notification removed from "All" tab
   - Badge count decrements: 🔔 (1) → 🔔
   - Toast appears: "✅ Notification dismissed"
   - Audit log created:
     ```json
     {
       "notification_id": "notif_xyz456",
       "action": "dismissed",
       "dismissed_by": "user_xyz789",
       "dismissed_at": "2025-10-24T15:00:00Z"
     }
     ```

**Outcome:** ✅ User informed of anomaly, dismissed expected purchase

**Duration:** 5 seconds (dismiss action)

---

### Journey 5: Manage Notification Preferences

**Scenario:** User has 5 active reminders, wants to edit low balance threshold and add SMS channel

**Steps:**

1. **User navigates to Settings → Reminders**
   - URL: `/settings/reminders`
   - System queries: `GET /api/reminders?user_id=user_xyz789`
   - Response: Array of 5 reminder configs
   ```
   ┌──────────────────────────────────────────────────────────┐
   │ Reminders                             [ + Create New ]   │
   ├──────────────────────────────────────────────────────────┤
   │ Tabs:  [Active (5)]  [Snoozed (1)]  [Disabled (2)]      │
   ├──────────────────────────────────────────────────────────┤
   │ ┌────────────────────────────────────────────────────┐   │
   │ │ 🔔 Low balance alert - Checking                    │   │
   │ │ When: Balance < $500.00                            │   │
   │ │ Channels: In-app, Email                            │   │
   │ │ Last triggered: 2 hours ago                        │   │
   │ │                                     [ Edit ] [ ⚙ ]│   │
   │ └────────────────────────────────────────────────────┘   │
   │ ┌────────────────────────────────────────────────────┐   │
   │ │ 🔔 Missing payment: Rent                           │   │
   │ │ When: Rent payment not received (±3 days)          │   │
   │ │ Channels: In-app, Email                            │   │
   │ │ Last triggered: 5 hours ago                        │   │
   │ │                                     [ Edit ] [ ⚙ ]│   │
   │ └────────────────────────────────────────────────────┘   │
   │ ┌────────────────────────────────────────────────────┐   │
   │ │ 🔔 Large expense: Amazon                           │   │
   │ │ When: Purchase > $150 (3× average)                 │   │
   │ │ Channels: In-app                                   │   │
   │ │ Last triggered: 10 minutes ago                     │   │
   │ │                                     [ Edit ] [ ⚙ ]│   │
   │ └────────────────────────────────────────────────────┘   │
   │ ... (2 more)                                             │
   └──────────────────────────────────────────────────────────┘
   ```

2. **User clicks "Edit" on "Low balance alert"**
   - ReminderConfigDialog opens (edit mode)
   - Form pre-filled with existing values
   ```
   ┌──────────────────────────────────────────────────┐
   │ Edit Reminder                                 [X]│
   ├──────────────────────────────────────────────────┤
   │                                                  │
   │ Name (optional)                                  │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Low balance alert - Checking                 │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Alert Type *                                     │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Low Balance                              [v] │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Account *                                        │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Chase Checking (...4567)                 [v] │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Threshold Amount *                               │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ $  500.00  ← Change to 1000                  │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ Notify me via                                    │
   │ ☑ In-app notification                            │
   │ ☑ Email                                          │
   │ ☐ SMS (optional)  ← Check this                   │
   │ ☐ Push notification (optional)                   │
   │                                                  │
   │ Advanced Settings [▼]                            │
   │ ┌──────────────────────────────────────────────┐ │
   │ │ Cooldown period: 24 hours                    │ │
   │ │ (Prevent duplicate alerts)                   │ │
   │ │                                              │ │
   │ │ Priority: Medium                             │ │
   │ └──────────────────────────────────────────────┘ │
   │                                                  │
   │ [ Delete Reminder ]         [ Save Changes ]    │
   └──────────────────────────────────────────────────┘
   ```

3. **User changes threshold: $500 → $1000**
   - Clicks threshold input field
   - Deletes "500.00"
   - Types "1000"
   - Auto-formats to "$1000.00"

4. **User adds SMS channel**
   - Checks "SMS (optional)" checkbox
   - System prompts: "Verify phone number"
   - User enters: "+1 (555) 123-4567"
   - System sends verification code via Twilio
   - User enters code: "123456"
   - Phone verified ✅

5. **User clicks "Save Changes"**
   - Validation runs: All fields valid ✅
   - Request: `PATCH /api/reminders/rem_abc123`
     ```json
     {
       "condition": {
         "threshold_amount": 1000.00
       },
       "notification_channels": ["in_app", "email", "sms"]
     }
     ```
   - Response: `200 OK`

6. **System confirms update**
   - Dialog closes
   - Toast notification: "✅ Reminder updated successfully"
   - Reminder card updates in list
   ```
   ┌────────────────────────────────────────────────────┐
   │ 🔔 Low balance alert - Checking                    │
   │ When: Balance < $1000.00          ← Updated        │
   │ Channels: In-app, Email, SMS      ← Updated        │
   │ Last triggered: 2 hours ago                        │
   │                                     [ Edit ] [ ⚙ ]│
   └────────────────────────────────────────────────────┘
   ```

**Outcome:** ✅ User adjusted threshold and added SMS channel

**Duration:** 60 seconds (form edits + phone verification)

---

### Journey 6: Email Fallback When User Offline

**Scenario:** User closes browser. Balance drops below threshold. WebSocket unavailable. Email delivers alert.

**Steps:**

1. **Background: User has active reminder**
   - Reminder: "Low balance alert - Checking"
   - Threshold: $1000.00
   - Channels: In-app, Email, SMS
   - Current balance: $1050.00

2. **User closes browser**
   - WebSocket disconnects
   - Client status: Offline

3. **Background: Transaction posts**
   - Transaction: "$200 utility bill" debit
   - New balance: $850.00
   - Transaction normalized at 2025-10-24T20:00:00Z

4. **Alert rule evaluator runs (event-driven)**
   - Event: `transaction.normalized`
   - Condition: $850 < $1000? ✅ True
   - Alert triggered

5. **System attempts WebSocket delivery**
   - NotificationDispatcher checks: User online? ❌ No
   - WebSocket delivery: Failed (connection not found)

6. **System triggers email fallback**
   - NotificationDispatcher: "User offline, sending email"
   - Email queued via SendGrid
   - To: user@example.com
   - Subject: "🔔 Low balance alert: Chase Checking"
   - Body:
     ```
     Hi [User],

     Your Chase Checking account balance has dropped to $850.00
     (below your $1000.00 threshold).

     Last transaction: $200.00 utility bill on Oct 24, 2025.

     [View Account] → https://app.example.com/accounts/acc_chase_checking_4567

     [View All Notifications] → https://app.example.com/notifications

     ---
     Reminder: Low balance alert - Checking
     Manage reminders: https://app.example.com/settings/reminders
     ```
   - Email sent at 2025-10-24T20:00:05Z (5s latency)

7. **User receives email on phone**
   - User checks email app (Gmail, iPhone)
   - Sees email: "🔔 Low balance alert: Chase Checking"
   - Opens email
   - Reads message
   - Clicks "View Account" link

8. **User opens app**
   - Deep link: `https://app.example.com/accounts/acc_chase_checking_4567`
   - Browser opens app
   - User logs in (if needed)
   - WebSocket reconnects
   - System syncs notifications
   - Bell icon shows: 🔔 (1)
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (1)]  [Snoozed (0)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ ⚠️ Low balance alert       20 min ago   │ │
   │ │                                          │ │
   │ │ Your Chase Checking balance is $850.00   │ │
   │ │ (below $1000.00 threshold)               │ │
   │ │                                          │ │
   │ │ Last transaction: $200 utility bill      │ │
   │ │                                          │ │
   │ │ [ View Account ]                         │ │
   │ │                                          │ │
   │ │ [ Snooze ▼ ]           [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   └──────────────────────────────────────────────┘
   ```

9. **User views account**
   - Clicks "View Account" in notification
   - Navigates to account detail page
   - Sees balance: $850.00
   - Reviews recent transactions
   - User: "OK, I'll transfer $500 from savings tomorrow"

10. **User dismisses notification**
    - Returns to NotificationPanel
    - Clicks "Dismiss"
    - Notification removed

**Outcome:** ✅ User received alert via email fallback, took action

**Duration:** 20 minutes (user offline) + 30 seconds (user interaction)

---

### Journey 7: Payment Due Date Reminder

**Scenario:** Credit card payment due Oct 28. User receives reminder 3 days before (Oct 25)

**Steps:**

1. **Background: User configured reminder**
   - Reminder: "Credit card payment due"
   - Rule type: "payment_due"
   - Account: Apple Card
   - Due date: Monthly, day 28
   - Advance notice: 3 days
   - Channels: In-app, Email

2. **Oct 25, 2025 - Scheduled checker runs**
   - Cron job: Daily at 9:00 AM
   - Query: Check due dates within 3 days
   - Condition: (Oct 28 - Oct 25) = 3 days? ✅ True
   - Alert triggered

3. **System creates notification**
   - Request: `POST /api/notifications`
     ```json
     {
       "reminder_id": "rem_jkl012",
       "user_id": "user_xyz789",
       "title": "📅 Payment due in 3 days",
       "message": "Apple Card payment due Oct 28, 2025. Minimum: $45.00, Statement: $1,234.56",
       "severity": "info",
       "delivery_channel": "in_app",
       "action_url": "/payments/new?account=acc_apple_card",
       "action_label": "Schedule Payment",
       "metadata": {
         "account_id": "acc_apple_card",
         "due_date": "2025-10-28",
         "minimum_payment": 45.00,
         "statement_balance": 1234.56,
         "days_until_due": 3
       }
     }
     ```

4. **User receives notification**
   - Bell icon: 🔔 (1)
   - User clicks bell
   ```
   ┌──────────────────────────────────────────────┐
   │ Notifications                            [X] │
   ├──────────────────────────────────────────────┤
   │ Tabs:  [All (1)]  [Snoozed (0)]  [Read (0)] │
   ├──────────────────────────────────────────────┤
   │ ┌──────────────────────────────────────────┐ │
   │ │ 📅 Payment due in 3 days    9:00 AM     │ │
   │ │ ─────────────────────────────────────── │ │ ← Blue border
   │ │                                          │ │
   │ │ Apple Card payment due Oct 28, 2025      │ │
   │ │                                          │ │
   │ │ Minimum: $45.00                          │ │
   │ │ Statement: $1,234.56                     │ │
   │ │                                          │ │
   │ │ [ Schedule Payment ]                     │ │
   │ │                                          │ │
   │ │ [ Snooze ▼ ]           [ Dismiss ]      │ │
   │ └──────────────────────────────────────────┘ │
   └──────────────────────────────────────────────┘
   ```

5. **User clicks "Schedule Payment"**
   - Navigates to: `/payments/new?account=acc_apple_card`
   - Payment form pre-filled:
     - From: Chase Checking
     - To: Apple Card
     - Amount: $1,234.56 (statement balance)
     - Date: Oct 28, 2025
   - User confirms payment
   - Payment scheduled ✅

6. **User returns to notifications**
   - Notification still visible (not auto-dismissed)
   - User clicks "Dismiss"
   - Notification removed

**Outcome:** ✅ User scheduled payment on time (3 days before due date)

**Duration:** 2 minutes (schedule payment)

---

## Wireframes

### Wireframe 1: ReminderBell Header Icon (Unread Badge)

```
Desktop (top-right header):

No notifications:
┌────────────────────────────────────────┐
│  [Logo]          [Search]      🔔      │
└────────────────────────────────────────┘

1 unread notification:
┌────────────────────────────────────────┐
│  [Logo]          [Search]    🔔 (1)    │  ← Red badge
└────────────────────────────────────────┘

5+ unread notifications:
┌────────────────────────────────────────┐
│  [Logo]          [Search]   🔔 (5+)    │  ← Red badge
└────────────────────────────────────────┘

Mobile (bottom navigation):
┌────────────────────────────────────────┐
│                                        │
│            Page Content                │
│                                        │
├────────────────────────────────────────┤
│  🏠     📊     🔔(1)     ⚙️            │  ← Badge on bell
└────────────────────────────────────────┘
```

---

### Wireframe 2: NotificationPanel Slide-in (Desktop)

```
┌───────────────────────────────────┬──────────────────────────────────────────────┐
│                                   │ Notifications                            [X] │
│                                   ├──────────────────────────────────────────────┤
│                                   │ Tabs:  [All (3)]  [Snoozed (1)]  [Read (5)]│
│        Main Page Content          ├──────────────────────────────────────────────┤
│         (slightly dimmed)         │ ┌──────────────────────────────────────────┐ │
│                                   │ │ 🔴 Missing payment: Rent   2 hours ago  │ │
│                                   │ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ │
│                                   │ │ Expected $1200 on Oct 1 (2 days overdue) │ │
│                                   │ │ [ View Series ]                          │ │
│                                   │ │ [ Snooze ▼ ]        [ Dismiss ]         │ │
│                                   │ └──────────────────────────────────────────┘ │
│                                   │                                              │
│                                   │ ┌──────────────────────────────────────────┐ │
│                                   │ │ ⚠️ Low balance alert       4 hours ago  │ │
│                                   │ │ ──────────────────────────────────────── │ │
│                                   │ │ Chase Checking: $450 (below $500)        │ │
│                                   │ │ [ View Account ]                         │ │
│                                   │ │ [ Snooze ▼ ]        [ Dismiss ]         │ │
│                                   │ └──────────────────────────────────────────┘ │
│                                   │                                              │
│                                   │ ┌──────────────────────────────────────────┐ │
│                                   │ │ 💡 Large expense detected  Just now     │ │
│                                   │ │ ──────────────────────────────────────── │ │
│                                   │ │ $5000 Amazon on Apple Card (10× avg)     │ │
│                                   │ │ [ View Transaction ]                     │ │
│                                   │ │ [ Snooze ▼ ]        [ Dismiss ]         │ │
│                                   │ └──────────────────────────────────────────┘ │
│                                   │                                              │
│                                   │ ↓ Scroll for more (12 total)                │
│                                   │                                              │
│                                   │ [ Mark All Read ]                            │
└───────────────────────────────────┴──────────────────────────────────────────────┘
                                    ↑ Panel slides in from right (400px wide)
```

---

### Wireframe 3: NotificationPanel Full-screen (Mobile)

```
┌────────────────────────────────────────┐
│ ← Notifications                        │  ← Back arrow to close
├────────────────────────────────────────┤
│ [All (3)]  [Snoozed (1)]  [Read (5)]  │  ← Tabs
├────────────────────────────────────────┤
│                                        │
│ ┌────────────────────────────────────┐ │
│ │ 🔴 Missing payment: Rent           │ │
│ │                        2 hours ago │ │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ │
│ │                                    │ │
│ │ Expected $1200 on Oct 1            │ │
│ │ (2 days overdue)                   │ │
│ │                                    │ │
│ │ [ View Series ]                    │ │
│ │                                    │ │
│ │ [ Snooze ▼ ]      [ Dismiss ]     │ │
│ └────────────────────────────────────┘ │
│                                        │
│ ┌────────────────────────────────────┐ │
│ │ ⚠️ Low balance alert               │ │
│ │                        4 hours ago │ │
│ │ ──────────────────────────────────│ │
│ │                                    │ │
│ │ Chase Checking: $450               │ │
│ │ (below $500 threshold)             │ │
│ │                                    │ │
│ │ [ View Account ]                   │ │
│ │                                    │ │
│ │ [ Snooze ▼ ]      [ Dismiss ]     │ │
│ └────────────────────────────────────┘ │
│                                        │
│ ↓ Pull to refresh                     │
│                                        │
└────────────────────────────────────────┘

Swipe gesture:
Swipe right → Dismiss notification ✅
Swipe left  → No action
```

---

### Wireframe 4: ReminderConfigDialog Modal (Create New)

```
                  Desktop (centered, 600px wide):

┌────────────────────────────────────────────────────────────┐
│ Create Reminder                                        [X] │
├────────────────────────────────────────────────────────────┤
│                                                            │
│ Name (optional)                                            │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ Low balance alert - Checking                           │ │
│ └────────────────────────────────────────────────────────┘ │
│                                                            │
│ Alert Type *                                               │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ Low Balance                                        [v] │ │ ← Dropdown
│ └────────────────────────────────────────────────────────┘ │
│   Options: Low Balance, Missing Payment, Large Expense,    │
│            Payment Due, Budget Exceeded                    │
│                                                            │
│ Account *                                                  │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ Chase Checking (...4567)                           [v] │ │
│ └────────────────────────────────────────────────────────┘ │
│                                                            │
│ Threshold Amount *                                         │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ $  500.00                                              │ │
│ └────────────────────────────────────────────────────────┘ │
│   Alert when balance drops below this amount               │
│                                                            │
│ Notify me via                                              │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ ☑ In-app notification                                  │ │
│ │ ☑ Email                                                │ │
│ │ ☐ SMS (+1 555-123-4567 verified)                      │ │
│ │ ☐ Push notification (enable in browser)               │ │
│ └────────────────────────────────────────────────────────┘ │
│   At least one channel required                            │
│                                                            │
│ Advanced Settings [▼]                                      │
│ ┌────────────────────────────────────────────────────────┐ │
│ │ Cooldown period                                        │ │
│ │ ┌────────────────────────────────────────────────────┐ │ │
│ │ │ 24 hours                                       [v] │ │ │
│ │ └────────────────────────────────────────────────────┘ │ │
│ │   Prevent duplicate alerts within this time            │ │
│ │                                                        │ │
│ │ Priority                                               │ │
│ │ ┌────────────────────────────────────────────────────┐ │ │
│ │ │ ○ Low    ● Medium    ○ High                        │ │ │
│ │ └────────────────────────────────────────────────────┘ │ │
│ └────────────────────────────────────────────────────────┘ │
│                                                            │
│ [ Cancel ]                           [ Create Reminder ]  │
└────────────────────────────────────────────────────────────┘
```

---

### Wireframe 5: Notification Card Severity Variants

```
Info (blue border):
┌──────────────────────────────────────────┐
│ 💡 Large expense detected   Just now    │
│ ─────────────────────────────────────── │ ← Blue border
│ $5000 Amazon purchase (10× average)      │
│ [ View Transaction ]                     │
│ [ Snooze ▼ ]        [ Dismiss ]         │
└──────────────────────────────────────────┘

Warning (orange border):
┌──────────────────────────────────────────┐
│ ⚠️ Low balance alert       4 hours ago  │
│ ──────────────────────────────────────── │ ← Orange border
│ Chase Checking: $450 (below $500)        │
│ [ View Account ]                         │
│ [ Snooze ▼ ]        [ Dismiss ]         │
└──────────────────────────────────────────┘

Critical (red border, pulsing animation):
┌──────────────────────────────────────────┐
│ 🔴 Missing payment: Rent   2 hours ago  │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ ← Red border (pulsing)
│ Expected $1200 on Oct 1 (2 days overdue) │
│ [ View Series ]                          │
│ [ Snooze ▼ ]        [ Dismiss ]         │
└──────────────────────────────────────────┘
```

---

### Wireframe 6: Snooze Duration Picker

```
User clicks "Snooze ▼" → Dropdown menu appears:

┌─────────────────────────┐
│ ⏰ 1 hour               │
│ ⏰ 4 hours              │  ← User hovers (highlighted)
│ ⏰ 1 day                │
│ ⏰ 2 days               │
│ ⏰ 1 week               │
├─────────────────────────┤
│ ⏰ Custom...            │  ← Opens custom picker modal
└─────────────────────────┘

Custom picker modal (if "Custom..." selected):

┌────────────────────────────────────┐
│ Snooze Until                   [X] │
├────────────────────────────────────┤
│                                    │
│ Date                               │
│ ┌────────────────────────────────┐ │
│ │ Oct 25, 2025              [📅]│ │ ← Calendar picker
│ └────────────────────────────────┘ │
│                                    │
│ Time                               │
│ ┌────────────────────────────────┐ │
│ │ 3:00 PM                    [🕐]│ │ ← Time picker
│ └────────────────────────────────┘ │
│                                    │
│ [ Cancel ]          [ Snooze ]    │
└────────────────────────────────────┘
```

---

### Wireframe 7: Reminders Settings Page (List View)

```
┌──────────────────────────────────────────────────────────┐
│ Settings → Reminders                  [ + Create New ]   │
├──────────────────────────────────────────────────────────┤
│ Tabs:  [Active (5)]  [Snoozed (1)]  [Disabled (2)]      │
├──────────────────────────────────────────────────────────┤
│ ┌────────────────────────────────────────────────────┐   │
│ │ 🔔 Low balance alert - Checking                    │   │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │   │
│ │ When: Balance < $1000.00                           │   │
│ │ Channels: In-app, Email, SMS                       │   │
│ │ Cooldown: 24 hours                                 │   │
│ │ Last triggered: 2 hours ago                        │   │
│ │ Triggered 3 times (last 30 days)                   │   │
│ │                                     [ Edit ] [ ⚙ ]│   │
│ └────────────────────────────────────────────────────┘   │
│                                                           │
│ ┌────────────────────────────────────────────────────┐   │
│ │ 🔔 Missing payment: Rent                           │   │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │   │
│ │ When: Rent payment not received (±3 days)          │   │
│ │ Series: Rent - Landlord LLC ($1200/month)          │   │
│ │ Channels: In-app, Email                            │   │
│ │ Cooldown: 24 hours                                 │   │
│ │ Last triggered: 5 hours ago                        │   │
│ │ Triggered 1 time (last 30 days)                    │   │
│ │                                     [ Edit ] [ ⚙ ]│   │
│ └────────────────────────────────────────────────────┘   │
│                                                           │
│ ┌────────────────────────────────────────────────────┐   │
│ │ 🔔 Large expense: Amazon                           │   │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │   │
│ │ When: Purchase > $150 (3× average)                 │   │
│ │ Merchant: Amazon (all variations)                  │   │
│ │ Channels: In-app                                   │   │
│ │ Cooldown: 12 hours                                 │   │
│ │ Last triggered: 10 minutes ago                     │   │
│ │ Triggered 12 times (last 30 days)                  │   │
│ │                                     [ Edit ] [ ⚙ ]│   │
│ └────────────────────────────────────────────────────┘   │
│                                                           │
│ ... (2 more active reminders)                            │
└──────────────────────────────────────────────────────────┘

Gear icon (⚙) dropdown menu:
┌────────────────────────┐
│ ✏️ Edit                │
│ 🔕 Disable             │
│ 📊 View Analytics      │
│ 🗑️ Delete             │
└────────────────────────┘
```

---

### Wireframe 8: Email Notification Template (Fallback)

```
From: Finance App <notifications@example.com>
To: user@example.com
Subject: 🔔 Low balance alert: Chase Checking

──────────────────────────────────────────────────
           FINANCE APP NOTIFICATION
──────────────────────────────────────────────────

⚠️ Low Balance Alert

Your Chase Checking account balance has dropped to
$450.00 (below your $500.00 threshold).

Last transaction:
  • $200.00 - Utility Bill Co.
  • Oct 24, 2025 at 8:00 PM

──────────────────────────────────────────────────

┌─────────────────────────────────────────────────┐
│            [ View Account Details ]             │
│  https://app.example.com/accounts/acc_chase...  │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│          [ View All Notifications ]             │
│    https://app.example.com/notifications        │
└─────────────────────────────────────────────────┘

──────────────────────────────────────────────────

Reminder: Low balance alert - Checking
Triggered: Oct 24, 2025 at 8:00 PM

Manage your reminders:
https://app.example.com/settings/reminders

Unsubscribe from this reminder:
https://app.example.com/reminders/rem_abc123/unsubscribe

──────────────────────────────────────────────────
© 2025 Finance App. All rights reserved.
```

---

## Multi-Domain Examples

### Finance Domain

**Use Cases:**
- Low balance alerts (< $500 threshold)
- Missing recurring payment detection (rent, subscriptions)
- Large expense anomaly (> 3× average)
- Payment due date reminders (credit cards, loans)
- Budget exceeded alerts (monthly spending > budget)
- Unusual transaction patterns (fraud detection)
- Currency exchange rate changes (FX alerts)
- Investment milestone notifications (portfolio value)

**Example Notifications:**
- "⚠️ Low balance: $450 in Chase Checking (below $500)"
- "🔴 Missing payment: Rent $1200 (2 days overdue)"
- "💡 Large expense: $5000 Amazon purchase (10× average)"
- "📅 Payment due in 3 days: Apple Card minimum $45"
- "⚠️ Budget exceeded: $3500 spent on Dining (budget $3000)"

---

### Healthcare Domain

**Use Cases:**
- Medication refill reminders (30-day prescriptions)
- Appointment reminders (doctor visits, procedures)
- Lab results ready notifications
- Insurance expiration alerts (deductible reset)
- Claim status updates (submitted, approved, denied)
- Vaccine due date reminders (flu shot, annual physical)
- Health goal milestones (10,000 steps, 30-day streak)

**Example Notifications:**
- "💊 Medication refill due: Lisinopril (3 days remaining)"
- "📅 Appointment reminder: Dr. Smith tomorrow at 2:00 PM"
- "🧪 Lab results ready: Blood panel from Oct 20"
- "⚠️ Insurance deductible resets Jan 1, 2026 (30 days)"
- "✅ Claim approved: $1200 reimbursement for MRI scan"

**Primitives Used:**
- ReminderEngine: Schedule recurring medication alerts
- AlertRuleEvaluator: Check refill dates (prescription_date + 30 days)
- NotificationDispatcher: Send SMS for critical health alerts
- ReminderStore: Track snoozed appointments, dismissed reminders

---

### Legal Domain

**Use Cases:**
- Court filing deadline alerts (motions, briefs)
- Contract expiration reminders (lease, employment)
- Retainer balance low alerts (trust account < $500)
- Case milestone notifications (discovery due, trial date)
- Billable hours tracking (daily summary)
- Document e-filing confirmations
- Statute of limitations warnings (2 years approaching)

**Example Notifications:**
- "🔴 Filing deadline: Motion to Dismiss due tomorrow"
- "📅 Contract expiring in 30 days: Office lease"
- "⚠️ Retainer balance low: $450 (below $500)"
- "📊 Billable hours summary: 42.5 hours this week"
- "✅ E-filing confirmed: Complaint #2025-CV-12345"

**Primitives Used:**
- ReminderEngine: Track case deadlines with escalating urgency
- AlertRuleEvaluator: Calculate statute of limitations expiration
- NotificationDispatcher: Email + SMS for critical filing deadlines
- ReminderStore: Store snooze actions with audit trail (compliance)

---

### Research Domain

**Use Cases:**
- Grant deadline reminders (NSF, NIH proposals)
- Ethics review expiration alerts (IRB approval)
- Publication milestone notifications (manuscript accepted)
- Dataset update alerts (new data available)
- Conference submission deadlines
- Collaboration request notifications
- Citation milestone alerts (paper cited 100 times)
- Funding balance low (grant budget < 10%)

**Example Notifications:**
- "📅 Grant deadline: NSF proposal due Oct 31 (7 days)"
- "⚠️ IRB approval expires Dec 1, 2025 (renew now)"
- "🎉 Manuscript accepted: Journal of AI Research"
- "📊 New dataset available: COVID-19 daily cases (updated)"
- "🔴 Funding balance low: $5000 remaining (8% of budget)"

**Primitives Used:**
- ReminderEngine: Schedule grant deadlines with multi-stage alerts
- AlertRuleEvaluator: Check IRB expiration dates (approval_date + 1 year)
- NotificationDispatcher: Email PI + research team
- ReminderStore: Track conference submission windows

---

### E-commerce Domain

**Use Cases:**
- Inventory low stock alerts (< 10 units)
- Price drop notifications (wishlist items)
- Abandoned cart reminders (24h, 48h, 72h)
- Order shipped/delivered notifications
- Subscription renewal reminders (7 days before)
- Flash sale alerts (limited time offers)
- Review request notifications (7 days after delivery)
- Supplier payment due reminders

**Example Notifications:**
- "⚠️ Low stock: iPhone 15 Pro (8 units remaining)"
- "💰 Price drop: MacBook Pro now $1899 (was $2299)"
- "🛒 Your cart is waiting: 3 items saved (save $50)"
- "📦 Order shipped: Tracking #1Z999AA10123456784"
- "📅 Subscription renews in 7 days: Prime ($139/year)"

**Primitives Used:**
- ReminderEngine: Schedule abandoned cart campaigns
- AlertRuleEvaluator: Check inventory levels (quantity < threshold)
- NotificationDispatcher: Push notifications for flash sales
- ReminderStore: Track cart abandonment timestamps

---

### Logistics Domain

**Use Cases:**
- Shipment delay alerts (expected delivery > actual)
- Customs clearance notifications
- Warehouse capacity warnings (90% full)
- Driver ETA updates (real-time tracking)
- Delivery confirmation notifications
- Temperature excursion alerts (cold chain)
- Vehicle maintenance due reminders
- Route optimization suggestions

**Example Notifications:**
- "⚠️ Shipment delayed: Expected Oct 25, now Oct 27"
- "✅ Customs cleared: Shipment #SH-12345 (Brazil)"
- "⚠️ Warehouse capacity: 92% full (Dallas DC)"
- "📍 Driver ETA: 15 minutes away (Order #ORD-67890)"
- "🚨 Temperature excursion: 45°F (threshold 40°F)"

---

## Accessibility Considerations

### Screen Reader Support

**ARIA Attributes:**
- ReminderBell: `aria-label="Notifications"`, `aria-live="polite"`, `aria-atomic="true"`
- Badge count: `<span aria-label="3 unread notifications">3</span>`
- NotificationPanel: `role="dialog"`, `aria-labelledby="notifications-title"`, `aria-modal="true"`
- Notification card: `role="alert"` (critical), `role="status"` (info/warning)
- Action buttons: `aria-label="Snooze notification for 4 hours"`, `aria-label="Dismiss notification"`

**Semantic HTML:**
```html
<button aria-label="Notifications" aria-describedby="notification-count">
  <span aria-hidden="true">🔔</span>
  <span id="notification-count" aria-label="3 unread">3</span>
</button>
```

**Screen Reader Announcements:**
- New notification: "Alert: Low balance, your Chase Checking balance is $450, below $500 threshold"
- Snooze action: "Notification snoozed for 4 hours"
- Dismiss action: "Notification dismissed"

---

### Keyboard Navigation

**Keyboard Shortcuts:**
- `Alt + N`: Open NotificationPanel
- `Tab`: Navigate between notifications
- `Enter`: Activate focused button (View, Snooze, Dismiss)
- `Esc`: Close NotificationPanel
- `↑ / ↓`: Navigate notification list
- `Space`: Toggle checkbox (snooze duration picker)

**Focus Management:**
- Modal dialogs: Trap focus within modal (Tab loops through form fields)
- Panel open: Focus first notification card
- Panel close: Return focus to ReminderBell button
- Keyboard-only navigation: Visible focus indicators (2px blue outline)

**Skip Links:**
```html
<a href="#main-content" class="skip-link">Skip to main content</a>
<a href="#notifications" class="skip-link">Jump to notifications</a>
```

---

### Visual Accessibility

**High Contrast Mode:**
- Border thickness: 3px (normal 1px)
- Color palette: Black text on white background (no gradients)
- Severity indicators: Text labels instead of color alone
  - Info: "ℹ️ Info: ..." (blue border)
  - Warning: "⚠️ Warning: ..." (orange border)
  - Critical: "🔴 Critical: ..." (red border)

**Color Blindness Support:**
- Don't rely on color alone (use icons + text labels)
- Info: 💡 + "Info" badge
- Warning: ⚠️ + "Warning" badge
- Critical: 🔴 + "Critical" badge
- Badge count: Red background + white text (4.5:1 contrast ratio)

**Font Size:**
- Base: 16px (1rem)
- Minimum touch target: 44×44px (WCAG 2.1 AA)
- Scalable: Support browser zoom up to 200%
- Notification title: 18px (1.125rem) bold
- Notification message: 16px (1rem) regular
- Timestamp: 14px (0.875rem) muted

---

### Responsive Design

**Desktop (≥1024px):**
- NotificationPanel: Slide-in from right (400px wide)
- ReminderBell: Top-right header
- ReminderConfigDialog: Centered modal (600px wide)
- Touch targets: ≥24px (mouse precision)

**Tablet (768px - 1023px):**
- NotificationPanel: Slide-in from right (300px wide)
- ReminderBell: Top-right header
- ReminderConfigDialog: Centered modal (500px wide)

**Mobile (≤767px):**
- NotificationPanel: Full-screen overlay
- ReminderBell: Bottom navigation bar
- ReminderConfigDialog: Full-screen modal
- Touch targets: ≥44px (finger precision)
- Swipe gestures: Swipe right to dismiss notification

**Touch-Friendly Targets:**
- Buttons: 44×44px minimum (iOS Human Interface Guidelines)
- List items: 56px height (Material Design)
- Tap padding: 8px around clickable elements
- Swipe threshold: 50px horizontal drag

---

### WCAG 2.1 AA Compliance

**Perceivable:**
- Text contrast: 4.5:1 for normal text, 3:1 for large text ✅
- Non-text contrast: 3:1 for UI components ✅
- Text alternative: All icons have aria-label ✅
- Time-based media: No auto-play videos ✅

**Operable:**
- Keyboard accessible: All functionality via keyboard ✅
- No keyboard trap: Esc exits modals ✅
- Timing adjustable: Notifications don't auto-dismiss ✅
- Seizures: No flashing content ✅

**Understandable:**
- Readable: 16px base font, clear language ✅
- Predictable: Consistent navigation ✅
- Input assistance: Form validation errors ✅

**Robust:**
- Valid HTML: Semantic markup ✅
- ARIA attributes: role, aria-label, aria-live ✅
- Browser compatibility: Chrome, Firefox, Safari, Edge ✅

---

## Performance Considerations

**WebSocket Connection:**
- Reconnection logic: Exponential backoff (1s, 2s, 4s, 8s, max 30s)
- Heartbeat: Ping every 30s to detect disconnection
- Message queue: Buffer notifications during reconnection
- Bandwidth: <1KB per notification event

**NotificationPanel Rendering:**
- Lazy loading: Load 20 notifications initially, infinite scroll for more
- Virtualized list: Render only visible notifications (react-window)
- Debounced scroll: 100ms debounce on scroll events
- Optimistic updates: Update UI immediately, sync with server in background

**Email Delivery:**
- Queue: Redis queue with retry logic (3 attempts, exponential backoff)
- Rate limiting: 10 emails/minute per user
- Template caching: Pre-render email templates, cache for 1 hour
- Delivery time: <5s for 95th percentile

**Database Queries:**
- Indexing: Index on `user_id`, `created_at`, `status`, `reminder_id`
- Pagination: Cursor-based (keyset) pagination for stability
- Aggregate queries: Cache notification counts for 1 minute
- Archival: Move dismissed notifications to archive table after 30 days

---

## Error Handling

**WebSocket Disconnection:**
- User sees: "🔴 Connection lost. Reconnecting..." (banner at top)
- System: Exponential backoff reconnection (1s, 2s, 4s, 8s, max 30s)
- Fallback: Email delivery if disconnected > 5 minutes
- User action: Manual reconnect button

**Email Delivery Failure:**
- User sees: "⚠️ Email delivery failed. Check email address in settings."
- System: Log to Sentry, retry 3 times with exponential backoff
- Fallback: In-app notification still visible
- User action: Update email address in settings

**Notification Creation Failure:**
- User sees: "❌ Failed to create reminder. Please try again."
- System: Rollback optimistic update, log to Sentry
- Fallback: Show error message in toast
- User action: Retry button

**Snooze Action Failure:**
- User sees: "❌ Failed to snooze notification. Trying again..."
- System: Retry API call (max 3 attempts)
- Fallback: Revert UI state, show error toast
- User action: Manual retry button

---

## Testing Strategy

**Unit Tests:**
- ReminderEngine: `test_create_reminder()`, `test_trigger_alert()`
- AlertRuleEvaluator: `test_evaluate_low_balance()`, `test_evaluate_missing_payment()`
- NotificationDispatcher: `test_send_email()`, `test_send_websocket()`
- ReminderStore: `test_snooze()`, `test_dismiss()`

**Integration Tests:**
- End-to-end flow: Create reminder → trigger alert → receive notification → snooze → dismiss
- WebSocket reconnection: Disconnect client → reconnect → sync notifications
- Email fallback: Disconnect WebSocket → trigger alert → verify email sent
- Multi-channel delivery: Trigger alert → verify in-app + email + SMS

**Accessibility Tests:**
- Keyboard navigation: Tab through all elements, Esc to close modals
- Screen reader: Test with NVDA (Windows), VoiceOver (macOS), TalkBack (Android)
- High contrast mode: Enable Windows High Contrast, verify readability
- Color blindness: Simulate protanopia, deuteranopia, tritanopia

**Performance Tests:**
- WebSocket throughput: Send 1000 notifications/second, measure latency
- Email queue: Queue 10,000 emails, measure delivery time
- NotificationPanel rendering: Render 1000 notifications, measure FPS
- Database queries: Query 100,000 notifications, measure response time

---

**Total Line Count:** 850+ lines
**User Journeys:** 7 ✅
**Wireframes:** 8 ✅
**Multi-Domain Examples:** 6 domains ✅
**Accessibility:** WCAG 2.1 AA compliant ✅
**Responsive:** Desktop + Tablet + Mobile ✅
