# UX Flow 5.5: API Consumer Experience

**Vertical:** 5.5 Public API Contracts
**User Persona:** External Developer (integrating with Truth Construction API)
**Created:** 2025-10-25

---

## Flow Overview

This UX flow covers the end-to-end experience for external developers integrating with the Truth Construction public API:

1. **Discovery:** Finding API documentation and understanding capabilities
2. **Registration:** Creating account, generating API credentials
3. **Testing:** Using sandbox environment to test integration
4. **Integration:** Implementing API calls in production code
5. **Monitoring:** Tracking API usage, handling errors, managing webhooks
6. **Maintenance:** Handling API version upgrades, troubleshooting issues

---

## User Journey Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Consumer Journey                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Discovery (10 min)                                          â”‚
â”‚     â†’ Read documentation, understand use cases                  â”‚
â”‚     Emotion: ğŸ˜Š Curious, optimistic                             â”‚
â”‚                                                                  â”‚
â”‚  2. Registration (5 min)                                        â”‚
â”‚     â†’ Create account, generate API key                          â”‚
â”‚     Emotion: ğŸ˜ Neutral, focused                                â”‚
â”‚                                                                  â”‚
â”‚  3. First API Call (15 min)                                     â”‚
â”‚     â†’ Copy curl example, test in sandbox                        â”‚
â”‚     Emotion: ğŸ˜ƒ Excited (if works), ğŸ˜Ÿ Frustrated (if fails)    â”‚
â”‚                                                                  â”‚
â”‚  4. Integration (2 hours)                                       â”‚
â”‚     â†’ Write production code, handle errors                      â”‚
â”‚     Emotion: ğŸ˜¤ Focused, determined                             â”‚
â”‚                                                                  â”‚
â”‚  5. Production Deploy (30 min)                                  â”‚
â”‚     â†’ Switch to prod API key, deploy code                       â”‚
â”‚     Emotion: ğŸ˜¬ Nervous, hopeful                                â”‚
â”‚                                                                  â”‚
â”‚  6. Ongoing Monitoring (daily)                                  â”‚
â”‚     â†’ Check usage dashboard, respond to errors                  â”‚
â”‚     Emotion: ğŸ˜Œ Confident (if stable), ğŸ˜° Stressed (if issues)  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flow 1: Discovery & Documentation

**Goal:** Developer understands API capabilities and decides to integrate

### Step 1.1: Landing on Documentation Portal

**Entry Point:** Google search "Truth Construction API" â†’ docs.truthconstruction.com

**Page Content:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Truth Construction API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  Document Processing API for Finance, Healthcare, Legal     â”‚
â”‚  Extract observations, resolve entities, reconcile data     â”‚
â”‚                                                              â”‚
â”‚  [Get Started]  [API Reference]  [Examples]                 â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Quick Start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Upload a document:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ curl -X POST https://api.truthconstruction.com/   â”‚    â”‚
â”‚  â”‚   v1/uploads \                                     â”‚    â”‚
â”‚  â”‚   -H "Authorization: Bearer YOUR_API_KEY" \        â”‚    â”‚
â”‚  â”‚   -F "file=@statement.pdf" \                       â”‚    â”‚
â”‚  â”‚   -F "parser_type=bank_statement"                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  Retrieve observations:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ curl https://api.truthconstruction.com/v1/        â”‚    â”‚
â”‚  â”‚   observations?upload_id=upl_abc123 \              â”‚    â”‚
â”‚  â”‚   -H "Authorization: Bearer YOUR_API_KEY"          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Use Cases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ’° Finance: Auto-process bank statements, invoices         â”‚
â”‚  ğŸ¥ Healthcare: Extract lab results, insurance claims       â”‚
â”‚  âš–ï¸ Legal: Parse contracts, extract parties & obligations   â”‚
â”‚  ğŸ“Š Research: Extract citations, author networks            â”‚
â”‚                                                              â”‚
â”‚  [View All Use Cases â†’]                                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Developer Actions:**
- Reads quick start examples
- Browses use cases (identifies if API fits their need)
- Clicks [Get Started] to create account

**Decision Point:** Does API meet their needs?
- âœ… YES â†’ Proceed to registration
- âŒ NO â†’ Leave site (bounce)

---

### Step 1.2: Exploring API Reference

**Entry Point:** Click [API Reference] in navigation

**Page Content:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Reference â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  Base URL: https://api.truthconstruction.com       â”‚
â”‚  Authentication: Bearer token (API key or OAuth2)  â”‚
â”‚  Rate Limits: 1000 req/hour (starter), 10k/hour   â”‚
â”‚               (enterprise)                         â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Endpoints â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ğŸ“¤ Uploads                                         â”‚
â”‚     POST   /v1/uploads            Create upload    â”‚
â”‚     GET    /v1/uploads/:id        Get upload       â”‚
â”‚                                                     â”‚
â”‚  ğŸ“‹ Observations                                    â”‚
â”‚     GET    /v1/observations       List observationsâ”‚
â”‚     GET    /v1/observations/:id   Get observation  â”‚
â”‚                                                     â”‚
â”‚  ğŸ‘¥ Entities                                        â”‚
â”‚     GET    /v1/entities           List entities    â”‚
â”‚     POST   /v1/entities           Create entity    â”‚
â”‚     PATCH  /v1/entities/:id       Update entity    â”‚
â”‚                                                     â”‚
â”‚  ğŸ”„ Reconciliations                                 â”‚
â”‚     GET    /v1/reconciliations    List reconciles  â”‚
â”‚     POST   /v1/reconciliations/   Trigger reconcileâ”‚
â”‚            trigger                                  â”‚
â”‚                                                     â”‚
â”‚  ğŸª Webhooks                                        â”‚
â”‚     POST   /v1/webhooks           Register webhook â”‚
â”‚     GET    /v1/webhooks           List webhooks    â”‚
â”‚     DELETE /v1/webhooks/:id       Delete webhook   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactive API Explorer (Swagger UI):**
- Developer clicks endpoint (e.g., POST /v1/uploads)
- Sees request/response schemas
- Can "Try It Out" with sandbox API key
- Views example responses

**Developer Actions:**
- Browses available endpoints
- Clicks endpoint to see details
- Tests endpoint in browser (Swagger UI "Try It Out")

**Decision Point:** Confident API has needed functionality?
- âœ… YES â†’ Create account
- âŒ NO â†’ Read more examples, contact sales

---

## Flow 2: Registration & API Key Generation

**Goal:** Developer creates account and generates first API key

### Step 2.1: Creating Account

**Entry Point:** Click [Get Started] on docs homepage

**Sign-Up Form:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Create Your Account â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  Email:        [developer@example.com_______]       â”‚
â”‚  Password:     [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢_____________]      â”‚
â”‚  Company:      [Acme Corp___________________]       â”‚
â”‚  Use Case:     [â—‹ Finance  â— SaaS Platform  ]       â”‚
â”‚                [â—‹ Healthcare  â—‹ Legal        ]       â”‚
â”‚                [â—‹ Other: ____________________]       â”‚
â”‚                                                      â”‚
â”‚  â˜‘ I agree to Terms of Service & Privacy Policy     â”‚
â”‚                                                      â”‚
â”‚  [Create Account]                                    â”‚
â”‚                                                      â”‚
â”‚  Already have an account? [Sign In]                 â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Post-Signup:**
- Email verification (click link in email)
- Redirect to dashboard

**Dashboard First-Time Experience:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Welcome to Truth Construction API! â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  âœ¨ Get Started in 3 Steps:                                  â”‚
â”‚                                                               â”‚
â”‚  1. Generate your first API key                    [Start â†’] â”‚
â”‚  2. Try a sample API call                       [Not started]â”‚
â”‚  3. Set up webhooks (optional)                  [Not started]â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 2.2: Generating First API Key

**Entry Point:** Click [Start â†’] on "Generate your first API key" task

**API Key Generation Dialog:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Generate API Key â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  Key Name: [My First Key_________________]         â”‚
â”‚                                                     â”‚
â”‚  Environment:                                       â”‚
â”‚    â— Sandbox (for testing)                         â”‚
â”‚    â—‹ Production (for live traffic)                 â”‚
â”‚                                                     â”‚
â”‚  Scopes:                                            â”‚
â”‚    â˜‘ Read (view observations, entities)            â”‚
â”‚    â˜‘ Write (create uploads, trigger reconciles)    â”‚
â”‚    â˜ Admin (manage users, view audit logs)         â”‚
â”‚                                                     â”‚
â”‚  â“˜  Use sandbox keys for testing. Switch to        â”‚
â”‚     production keys when ready to go live.         â”‚
â”‚                                                     â”‚
â”‚  [Cancel]                      [Generate Key]       â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Actions:**
- Enters key name ("My First Key")
- Selects "Sandbox" environment
- Selects scopes (read, write)
- Clicks [Generate Key]

**Key Generated Dialog:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Key Generated â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  âš ï¸  IMPORTANT: Copy this key now!                  â”‚
â”‚     You won't be able to see it again.             â”‚
â”‚                                                      â”‚
â”‚  Your API Key:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ tc_sandbox_3K7mP9xQ2jR8vN5wL1tY4uA6bC0dE  â”‚    â”‚
â”‚  â”‚                                  [Copy] âœ“  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  Next Steps:                                        â”‚
â”‚  â€¢ Store key securely (environment variable)       â”‚
â”‚  â€¢ Test with sample API call                       â”‚
â”‚  â€¢ Never commit key to code                        â”‚
â”‚                                                      â”‚
â”‚  [Close]                                            â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Actions:**
- Clicks [Copy] button (copies to clipboard)
- Pastes key into text editor / terminal
- Clicks [Close]

**Post-Generation:**
- Dashboard updates: "Generate your first API key" âœ“ Complete
- Next task highlighted: "Try a sample API call"

---

## Flow 3: First API Call (Sandbox Testing)

**Goal:** Developer successfully makes first API call in sandbox

### Step 3.1: Sample API Call Guide

**Entry Point:** Click [Start â†’] on "Try a sample API call" task

**Guided Tutorial:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Try Your First API Call â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  Let's upload a sample document and retrieve observations.â”‚
â”‚                                                            â”‚
â”‚  Step 1: Set your API key                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ export API_KEY="tc_sandbox_3K7mP9xQ2jR8..."   â”‚      â”‚
â”‚  â”‚                                      [Copy]    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                            â”‚
â”‚  Step 2: Upload a test document                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ curl -X POST \                                 â”‚      â”‚
â”‚  â”‚   https://sandbox.api.truthconstruction.com/   â”‚      â”‚
â”‚  â”‚   v1/uploads \                                 â”‚      â”‚
â”‚  â”‚   -H "Authorization: Bearer $API_KEY" \        â”‚      â”‚
â”‚  â”‚   -F "file=@test_statement.pdf"               â”‚      â”‚
â”‚  â”‚                                      [Copy]    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                            â”‚
â”‚  â“˜  We've provided a test PDF for you to try.            â”‚
â”‚     [Download test_statement.pdf]                         â”‚
â”‚                                                            â”‚
â”‚  Step 3: Check upload status                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ curl https://sandbox.api.truthconstruction.   â”‚      â”‚
â”‚  â”‚   com/v1/uploads/UPLOAD_ID \                  â”‚      â”‚
â”‚  â”‚   -H "Authorization: Bearer $API_KEY"         â”‚      â”‚
â”‚  â”‚                                      [Copy]    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                            â”‚
â”‚  Expected response (after ~5 seconds):                    â”‚
â”‚  {"upload_id": "upl_abc123", "status": "parsed"}         â”‚
â”‚                                                            â”‚
â”‚  [Test in Browser] [I've Tried It â†’]                      â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Actions:**
- Downloads test PDF
- Copies curl command to terminal
- Runs command, sees response
- Clicks [I've Tried It â†’] to mark complete

---

### Step 3.2: Troubleshooting First API Call

**Common Errors:**

**Error 1: Invalid API Key**
```json
{
  "error": "Unauthorized",
  "message": "Invalid API key",
  "status": 401
}
```

**Help Tooltip:**
```
âŒ Invalid API Key

Common causes:
â€¢ Typo in API key (check copy-paste)
â€¢ Using production key with sandbox URL
  (use sandbox.api.* with sandbox keys)
â€¢ Key was revoked (generate new key)

Need help? [Contact Support]
```

**Error 2: File Upload Failed**
```json
{
  "error": "Bad Request",
  "message": "File upload failed: file path does not exist",
  "status": 400
}
```

**Help Tooltip:**
```
âŒ File Upload Failed

Common causes:
â€¢ File path incorrect (check @test_statement.pdf)
â€¢ File does not exist (download test PDF first)
â€¢ Missing -F flag (use -F "file=@...")

[Download Test PDF]  [View Upload Guide]
```

**Success Response:**
```json
{
  "upload_id": "upl_abc123",
  "status": "queued",
  "created_at": "2025-10-25T10:15:23Z"
}
```

**Success Confirmation:**
```
âœ… Upload successful!

Your document is being processed. Check status:

curl https://sandbox.api.truthconstruction.com/v1/uploads/upl_abc123 \
  -H "Authorization: Bearer $API_KEY"

When status="parsed", retrieve observations:

curl https://sandbox.api.truthconstruction.com/v1/observations?upload_id=upl_abc123 \
  -H "Authorization: Bearer $API_KEY"

[View Full API Reference]  [Continue to Production â†’]
```

---

## Flow 4: Production Integration

**Goal:** Developer writes production code, deploys to production

### Step 4.1: Switching to Production API Key

**Entry Point:** Dashboard shows prompt: "Ready for production?"

**Generate Production Key:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Generate Production API Key â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚  Key Name: [Production Key__________________]          â”‚
â”‚                                                         â”‚
â”‚  Environment:                                           â”‚
â”‚    â—‹ Sandbox (for testing)                             â”‚
â”‚    â— Production (for live traffic)                     â”‚
â”‚                                                         â”‚
â”‚  Scopes:                                                â”‚
â”‚    â˜‘ Read                                               â”‚
â”‚    â˜‘ Write                                              â”‚
â”‚    â˜ Admin                                              â”‚
â”‚                                                         â”‚
â”‚  âš ï¸  Production keys:                                   â”‚
â”‚     â€¢ Process real customer data                       â”‚
â”‚     â€¢ Count toward your rate limit (1000 req/hour)     â”‚
â”‚     â€¢ Must be stored securely (env variable)           â”‚
â”‚                                                         â”‚
â”‚  [Cancel]                      [Generate Production Key]â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Actions:**
- Enters key name ("Production Key")
- Selects "Production" environment
- Clicks [Generate Production Key]
- Copies key to secure location (env variable)

---

### Step 4.2: Code Integration

**Documentation:** "Integrate Truth Construction API"

**Example (Python):**
```python
import os
import requests

API_KEY = os.environ['TRUTH_API_KEY']  # Never hardcode keys!
API_BASE = 'https://api.truthconstruction.com/v1'

def upload_document(file_path, parser_type):
    """Upload document for processing."""
    with open(file_path, 'rb') as f:
        response = requests.post(
            f'{API_BASE}/uploads',
            headers={'Authorization': f'Bearer {API_KEY}'},
            files={'file': f},
            data={'parser_type': parser_type}
        )
    response.raise_for_status()
    return response.json()

def get_observations(upload_id):
    """Retrieve observations for processed upload."""
    response = requests.get(
        f'{API_BASE}/observations',
        headers={'Authorization': f'Bearer {API_KEY}'},
        params={'upload_id': upload_id}
    )
    response.raise_for_status()
    return response.json()

# Usage
upload = upload_document('statement.pdf', 'bank_statement')
print(f"Upload ID: {upload['upload_id']}")

# Poll for completion (or use webhooks)
import time
while True:
    status = requests.get(
        f"{API_BASE}/uploads/{upload['upload_id']}",
        headers={'Authorization': f'Bearer {API_KEY}'}
    ).json()

    if status['status'] == 'parsed':
        break
    elif status['status'] == 'failed':
        raise Exception(f"Upload failed: {status['error']}")

    time.sleep(5)

# Retrieve observations
observations = get_observations(upload['upload_id'])
print(f"Found {len(observations['observations'])} observations")
```

**Developer Actions:**
- Copies code example
- Adapts to their use case
- Tests locally with sandbox key
- Deploys to production with production key

---

## Flow 5: Setting Up Webhooks

**Goal:** Developer registers webhook for real-time notifications

### Step 5.1: Registering Webhook

**Entry Point:** Dashboard â†’ Webhooks â†’ [+ New Webhook]

**Register Webhook Dialog:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Register Webhook â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  Webhook URL:                                       â”‚
â”‚  [https://yourapp.com/webhook____________]         â”‚
â”‚  â“˜ Must be HTTPS. No localhost or private IPs.     â”‚
â”‚                                                     â”‚
â”‚  Secret (for signature verification):              â”‚
â”‚  [webhook_secret_abc123___________] [Generate]     â”‚
â”‚  â“˜ Used to verify X-Webhook-Signature header       â”‚
â”‚                                                     â”‚
â”‚  Events:                                            â”‚
â”‚    â˜‘ upload.completed                               â”‚
â”‚    â˜ upload.failed                                  â”‚
â”‚    â˜ observation.created                            â”‚
â”‚    â˜ entity.resolved                                â”‚
â”‚    â˜‘ reconciliation.completed                       â”‚
â”‚                                                     â”‚
â”‚  [Cancel]                      [Register Webhook]   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Actions:**
- Enters webhook URL (https://yourapp.com/webhook)
- Clicks [Generate] to auto-generate secret
- Selects events (upload.completed, reconciliation.completed)
- Clicks [Register Webhook]

**Success Confirmation:**
```
âœ… Webhook registered!

Webhook will receive events at: https://yourapp.com/webhook

Next Steps:
â€¢ Implement webhook handler on your server
â€¢ Verify X-Webhook-Signature header (HMAC-SHA256)
â€¢ Test webhook with [Test] button

[View Webhook Guide]  [Test Webhook â†’]
```

---

### Step 5.2: Implementing Webhook Handler

**Documentation:** "Webhook Handler Implementation"

**Example (Python/Flask):**
```python
import hmac
import hashlib
from flask import Flask, request

app = Flask(__name__)
WEBHOOK_SECRET = os.environ['WEBHOOK_SECRET']

@app.route('/webhook', methods=['POST'])
def webhook_handler():
    # Step 1: Verify signature
    signature = request.headers.get('X-Webhook-Signature')
    expected_sig = 'sha256=' + hmac.new(
        WEBHOOK_SECRET.encode('utf-8'),
        request.data,
        hashlib.sha256
    ).hexdigest()

    if not hmac.compare_digest(signature, expected_sig):
        return 'Invalid signature', 401

    # Step 2: Process event
    payload = request.json
    event_type = payload.get('event')

    if event_type == 'upload.completed':
        upload_id = payload['upload_id']
        print(f"Upload {upload_id} completed, processing...")
        # Trigger your business logic here
    elif event_type == 'reconciliation.completed':
        reconciliation_id = payload['reconciliation_id']
        print(f"Reconciliation {reconciliation_id} completed")

    return 'OK', 200

if __name__ == '__main__':
    app.run(port=5000)
```

**Developer Actions:**
- Copies webhook handler code
- Deploys to their server (https://yourapp.com/webhook)
- Tests webhook with [Test] button in dashboard

**Test Webhook:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Test Webhook â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  Testing webhook: https://yourapp.com/webhook      â”‚
â”‚                                                     â”‚
â”‚  [Testing...]                                       â”‚
â”‚                                                     â”‚
â”‚  âœ… Test successful!                                â”‚
â”‚                                                     â”‚
â”‚  Status: 200 OK                                     â”‚
â”‚  Response time: 245ms                               â”‚
â”‚  Response body: "OK"                                â”‚
â”‚                                                     â”‚
â”‚  Your webhook is ready to receive events.          â”‚
â”‚                                                     â”‚
â”‚  [Close]                                            â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flow 6: Monitoring & Troubleshooting

**Goal:** Developer monitors API usage, handles errors

### Step 6.1: API Usage Dashboard

**Dashboard:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Usage Dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  Request Volume (Last 7 Days)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                      â–ˆâ–ˆ              â”‚   â”‚
â”‚  â”‚                         â–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ             â”‚   â”‚
â”‚  â”‚            â–ˆâ–ˆ          â–ˆâ–ˆâ–ˆâ–ˆ        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆ  â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ      â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚ Mon  Tue  Wed  Thu  Fri  Sat  Sun                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  Total: 4,523 requests                                      â”‚
â”‚                                                              â”‚
â”‚  Rate Limit Usage (Current Hour)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 847/1000 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  Resets in: 28 minutes                                      â”‚
â”‚                                                              â”‚
â”‚  Top Endpoints (This Week)                                  â”‚
â”‚  â€¢ GET /v1/observations     2,145 requests                  â”‚
â”‚  â€¢ POST /v1/uploads         1,234 requests                  â”‚
â”‚  â€¢ GET /v1/entities           678 requests                  â”‚
â”‚                                                              â”‚
â”‚  Error Rate (Last 24 Hours)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â— 200-299 (Success):   98.2%                        â”‚   â”‚
â”‚  â”‚ â— 400-499 (Client):     1.5%                        â”‚   â”‚
â”‚  â”‚ â— 500-599 (Server):     0.3%                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  [View Detailed Logs]  [Download Report]                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 6.2: Error Handling

**Common Errors & Resolutions:**

**Error 1: Rate Limit Exceeded**
```json
{
  "error": "Rate Limit Exceeded",
  "message": "You have exceeded your rate limit of 1000 requests per hour",
  "retry_after": 300,
  "status": 429
}
```

**Help Message:**
```
âŒ Rate Limit Exceeded

You've hit your hourly rate limit (1000 req/hour).

Solutions:
â€¢ Wait 5 minutes (retry_after: 300 seconds)
â€¢ Upgrade to Professional tier (5000 req/hour)
â€¢ Optimize requests (batch operations, cache results)

[Upgrade Plan]  [View Rate Limits]
```

**Error 2: Invalid Upload (Parser Failed)**
```json
{
  "upload_id": "upl_abc123",
  "status": "failed",
  "error": "Parser failed: Unsupported file format"
}
```

**Help Message:**
```
âŒ Upload Failed

Parser could not process document.

Common causes:
â€¢ Unsupported file format (use PDF, not DOCX)
â€¢ Corrupted PDF (re-save PDF with proper format)
â€¢ Wrong parser type (use 'invoice' not 'bank_statement')

[View Supported Formats]  [Retry Upload]
```

---

## Flow 7: API Version Upgrade

**Goal:** Developer migrates from v1 to v2 (during deprecation period)

### Step 7.1: Deprecation Notice

**Dashboard Banner (6 months before sunset):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  API v1 Will Be Sunset on April 25, 2026                 â”‚
â”‚                                                               â”‚
â”‚  API v1 will stop working in 6 months. Migrate to v2 now.    â”‚
â”‚                                                               â”‚
â”‚  What's New in v2:                                            â”‚
â”‚  â€¢ Improved response format (data + metadata structure)      â”‚
â”‚  â€¢ Batch upload endpoint (upload multiple files at once)     â”‚
â”‚  â€¢ Enhanced error messages with troubleshooting links        â”‚
â”‚                                                               â”‚
â”‚  [View Migration Guide]  [Dismiss]                            â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Email Notification:**
```
Subject: Action Required: API v1 Deprecation Notice

Hi Developer,

API v1 will be sunset on April 25, 2026 (in 6 months).

After this date, all v1 endpoints will return HTTP 410 Gone.

Migration Steps:
1. Review breaking changes: [Migration Guide]
2. Test v2 in sandbox: sandbox.api.truthconstruction.com/v2
3. Update production code: Change /v1/ â†’ /v2/ in API URLs
4. Deploy and verify

Need help? Contact support@truthconstruction.com

Best,
Truth Construction API Team
```

---

### Step 7.2: Migration Guide

**Documentation:** "Migrate from API v1 to v2"

**Breaking Changes:**

| Change | v1 | v2 | Migration |
|--------|----|----|-----------|
| Response structure | `{"observations": [...]}` | `{"data": [...], "metadata": {...}}` | Update JSON parsing: `response['data']` |
| Error format | `{"error": "..."}` | `{"type": "...", "detail": "..."}` (RFC 7807) | Update error handling |
| Upload endpoint | POST /v1/uploads (single) | POST /v2/uploads (single or batch) | No change needed (backward compatible) |

**Migration Checklist:**

```
â˜ 1. Update API URLs (/v1/ â†’ /v2/)
â˜ 2. Update response parsing (observations â†’ data)
â˜ 3. Update error handling (error â†’ detail)
â˜ 4. Test in sandbox (sandbox.api.*/v2)
â˜ 5. Deploy to production
â˜ 6. Monitor for errors (check dashboard)
â˜ 7. Remove v1 code after verification
```

**Code Diff Example:**
```python
# Before (v1)
response = requests.get(
    'https://api.truthconstruction.com/v1/observations',
    headers={'Authorization': f'Bearer {API_KEY}'}
)
observations = response.json()['observations']  # v1 format

# After (v2)
response = requests.get(
    'https://api.truthconstruction.com/v2/observations',  # Changed URL
    headers={'Authorization': f'Bearer {API_KEY}'}
)
observations = response.json()['data']  # v2 format (changed)
```

---

## UX Principles Applied

### 1. Progressive Disclosure
- Show simple quick-start first (curl example)
- Reveal complex features gradually (webhooks, batch uploads)
- Allow skipping optional steps (webhooks not required)

### 2. Clear Guidance
- Decision tree for API key vs OAuth2 (clear use-case-based guidance)
- Step-by-step tutorials with [Copy] buttons
- Contextual help tooltips for errors

### 3. Fast Time-to-Value
- First API call within 10 minutes (registration â†’ key â†’ test call)
- Pre-built curl examples (no code required for testing)
- Test PDF provided (no need to find own document)

### 4. Error Recovery
- Inline error messages with troubleshooting steps
- [Contact Support] button on every error
- Retry button for failed operations

### 5. Proactive Communication
- Dashboard banners for deprecations (6 months advance warning)
- Email notifications at key milestones
- Weekly usage reports (optional, can subscribe)

---

## Metrics to Measure Success

| Metric | Target | Measurement |
|--------|--------|-------------|
| Time to First API Call | < 10 minutes | Track: signup â†’ first successful API request |
| API Adoption Rate | > 70% of signups make API call within 7 days | Track: users who make â‰¥1 API call in first week |
| Webhook Setup Rate | > 30% of users register webhook | Track: users with â‰¥1 active webhook |
| Migration Success Rate | > 95% migrate v1 â†’ v2 before sunset | Track: v1 usage vs v2 usage over time |
| Error Resolution Rate | < 5% of errors result in support ticket | Track: error events vs support ticket creations |
| Documentation NPS | > 40 | Survey: "How likely are you to recommend our API docs?" |

---

## Wireframes Reference

- Figure 5.5.1: API Documentation Homepage
- Figure 5.5.2: API Reference (Swagger UI)
- Figure 5.5.3: API Key Management Panel
- Figure 5.5.4: Webhook Management Panel
- Figure 5.5.5: API Usage Dashboard
- Figure 5.5.6: Migration Guide Page

---

## Related UX Flows

- **UX Flow 5.4:** Security & Access (related to API authentication)
- **UX Flow 1.1:** Upload Flow (related to POST /v1/uploads endpoint)
- **UX Flow 2.1:** Entity Resolution (related to GET /v1/entities endpoint)
