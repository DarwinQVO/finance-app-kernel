# UX Flow 5.5: API Consumer Experience

**Vertical:** 5.5 Public API Contracts
**User Persona:** External Developer (integrating with Truth Construction API)
**Created:** 2025-10-25

---

## Flow Overview

This UX flow covers the end-to-end experience for external developers integrating with the Truth Construction public API:

1. **Discovery:** Finding API documentation and understanding capabilities
2. **Registration:** Creating account, generating API credentials
3. **Testing:** Using sandbox environment to test integration
4. **Integration:** Implementing API calls in production code
5. **Monitoring:** Tracking API usage, handling errors, managing webhooks
6. **Maintenance:** Handling API version upgrades, troubleshooting issues

---

## User Journey Map

```
┌────────────────────────────────────────────────────────────────┐
│                    API Consumer Journey                        │
├────────────────────────────────────────────────────────────────┤
│                                                                  │
│  1. Discovery (10 min)                                          │
│     → Read documentation, understand use cases                  │
│     Emotion: 😊 Curious, optimistic                             │
│                                                                  │
│  2. Registration (5 min)                                        │
│     → Create account, generate API key                          │
│     Emotion: 😐 Neutral, focused                                │
│                                                                  │
│  3. First API Call (15 min)                                     │
│     → Copy curl example, test in sandbox                        │
│     Emotion: 😃 Excited (if works), 😟 Frustrated (if fails)    │
│                                                                  │
│  4. Integration (2 hours)                                       │
│     → Write production code, handle errors                      │
│     Emotion: 😤 Focused, determined                             │
│                                                                  │
│  5. Production Deploy (30 min)                                  │
│     → Switch to prod API key, deploy code                       │
│     Emotion: 😬 Nervous, hopeful                                │
│                                                                  │
│  6. Ongoing Monitoring (daily)                                  │
│     → Check usage dashboard, respond to errors                  │
│     Emotion: 😌 Confident (if stable), 😰 Stressed (if issues)  │
│                                                                  │
└────────────────────────────────────────────────────────────────┘
```

---

## Flow 1: Discovery & Documentation

**Goal:** Developer understands API capabilities and decides to integrate

### Step 1.1: Landing on Documentation Portal

**Entry Point:** Google search "Truth Construction API" → docs.truthconstruction.com

**Page Content:**
```
┌────────────────── Truth Construction API ──────────────────┐
│                                                              │
│  Document Processing API for Finance, Healthcare, Legal     │
│  Extract observations, resolve entities, reconcile data     │
│                                                              │
│  [Get Started]  [API Reference]  [Examples]                 │
│                                                              │
├─────────────────── Quick Start ────────────────────────────┤
│                                                              │
│  Upload a document:                                         │
│  ┌────────────────────────────────────────────────────┐    │
│  │ curl -X POST https://api.truthconstruction.com/   │    │
│  │   v1/uploads \                                     │    │
│  │   -H "Authorization: Bearer YOUR_API_KEY" \        │    │
│  │   -F "file=@statement.pdf" \                       │    │
│  │   -F "parser_type=bank_statement"                  │    │
│  └────────────────────────────────────────────────────┘    │
│                                                              │
│  Retrieve observations:                                     │
│  ┌────────────────────────────────────────────────────┐    │
│  │ curl https://api.truthconstruction.com/v1/        │    │
│  │   observations?upload_id=upl_abc123 \              │    │
│  │   -H "Authorization: Bearer YOUR_API_KEY"          │    │
│  └────────────────────────────────────────────────────┘    │
│                                                              │
├─────────────────── Use Cases ──────────────────────────────┤
│                                                              │
│  💰 Finance: Auto-process bank statements, invoices         │
│  🏥 Healthcare: Extract lab results, insurance claims       │
│  ⚖️ Legal: Parse contracts, extract parties & obligations   │
│  📊 Research: Extract citations, author networks            │
│                                                              │
│  [View All Use Cases →]                                     │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**Developer Actions:**
- Reads quick start examples
- Browses use cases (identifies if API fits their need)
- Clicks [Get Started] to create account

**Decision Point:** Does API meet their needs?
- ✅ YES → Proceed to registration
- ❌ NO → Leave site (bounce)

---

### Step 1.2: Exploring API Reference

**Entry Point:** Click [API Reference] in navigation

**Page Content:**
```
┌────────────────── API Reference ──────────────────┐
│                                                     │
│  Base URL: https://api.truthconstruction.com       │
│  Authentication: Bearer token (API key or OAuth2)  │
│  Rate Limits: 1000 req/hour (starter), 10k/hour   │
│               (enterprise)                         │
│                                                     │
├─────────────── Endpoints ─────────────────────────┤
│                                                     │
│  📤 Uploads                                         │
│     POST   /v1/uploads            Create upload    │
│     GET    /v1/uploads/:id        Get upload       │
│                                                     │
│  📋 Observations                                    │
│     GET    /v1/observations       List observations│
│     GET    /v1/observations/:id   Get observation  │
│                                                     │
│  👥 Entities                                        │
│     GET    /v1/entities           List entities    │
│     POST   /v1/entities           Create entity    │
│     PATCH  /v1/entities/:id       Update entity    │
│                                                     │
│  🔄 Reconciliations                                 │
│     GET    /v1/reconciliations    List reconciles  │
│     POST   /v1/reconciliations/   Trigger reconcile│
│            trigger                                  │
│                                                     │
│  🪝 Webhooks                                        │
│     POST   /v1/webhooks           Register webhook │
│     GET    /v1/webhooks           List webhooks    │
│     DELETE /v1/webhooks/:id       Delete webhook   │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**Interactive API Explorer (Swagger UI):**
- Developer clicks endpoint (e.g., POST /v1/uploads)
- Sees request/response schemas
- Can "Try It Out" with sandbox API key
- Views example responses

**Developer Actions:**
- Browses available endpoints
- Clicks endpoint to see details
- Tests endpoint in browser (Swagger UI "Try It Out")

**Decision Point:** Confident API has needed functionality?
- ✅ YES → Create account
- ❌ NO → Read more examples, contact sales

---

## Flow 2: Registration & API Key Generation

**Goal:** Developer creates account and generates first API key

### Step 2.1: Creating Account

**Entry Point:** Click [Get Started] on docs homepage

**Sign-Up Form:**
```
┌────────────── Create Your Account ─────────────────┐
│                                                      │
│  Email:        [developer@example.com_______]       │
│  Password:     [••••••••••••••••_____________]      │
│  Company:      [Acme Corp___________________]       │
│  Use Case:     [○ Finance  ● SaaS Platform  ]       │
│                [○ Healthcare  ○ Legal        ]       │
│                [○ Other: ____________________]       │
│                                                      │
│  ☑ I agree to Terms of Service & Privacy Policy     │
│                                                      │
│  [Create Account]                                    │
│                                                      │
│  Already have an account? [Sign In]                 │
│                                                      │
└──────────────────────────────────────────────────────┘
```

**Post-Signup:**
- Email verification (click link in email)
- Redirect to dashboard

**Dashboard First-Time Experience:**
```
┌────────────── Welcome to Truth Construction API! ───────────┐
│                                                               │
│  ✨ Get Started in 3 Steps:                                  │
│                                                               │
│  1. Generate your first API key                    [Start →] │
│  2. Try a sample API call                       [Not started]│
│  3. Set up webhooks (optional)                  [Not started]│
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

---

### Step 2.2: Generating First API Key

**Entry Point:** Click [Start →] on "Generate your first API key" task

**API Key Generation Dialog:**
```
┌──────────────── Generate API Key ─────────────────┐
│                                                     │
│  Key Name: [My First Key_________________]         │
│                                                     │
│  Environment:                                       │
│    ● Sandbox (for testing)                         │
│    ○ Production (for live traffic)                 │
│                                                     │
│  Scopes:                                            │
│    ☑ Read (view observations, entities)            │
│    ☑ Write (create uploads, trigger reconciles)    │
│    ☐ Admin (manage users, view audit logs)         │
│                                                     │
│  ⓘ  Use sandbox keys for testing. Switch to        │
│     production keys when ready to go live.         │
│                                                     │
│  [Cancel]                      [Generate Key]       │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**User Actions:**
- Enters key name ("My First Key")
- Selects "Sandbox" environment
- Selects scopes (read, write)
- Clicks [Generate Key]

**Key Generated Dialog:**
```
┌──────────────── API Key Generated ─────────────────┐
│                                                      │
│  ⚠️  IMPORTANT: Copy this key now!                  │
│     You won't be able to see it again.             │
│                                                      │
│  Your API Key:                                      │
│  ┌────────────────────────────────────────────┐    │
│  │ tc_sandbox_3K7mP9xQ2jR8vN5wL1tY4uA6bC0dE  │    │
│  │                                  [Copy] ✓  │    │
│  └────────────────────────────────────────────┘    │
│                                                      │
│  Next Steps:                                        │
│  • Store key securely (environment variable)       │
│  • Test with sample API call                       │
│  • Never commit key to code                        │
│                                                      │
│  [Close]                                            │
│                                                      │
└──────────────────────────────────────────────────────┘
```

**User Actions:**
- Clicks [Copy] button (copies to clipboard)
- Pastes key into text editor / terminal
- Clicks [Close]

**Post-Generation:**
- Dashboard updates: "Generate your first API key" ✓ Complete
- Next task highlighted: "Try a sample API call"

---

## Flow 3: First API Call (Sandbox Testing)

**Goal:** Developer successfully makes first API call in sandbox

### Step 3.1: Sample API Call Guide

**Entry Point:** Click [Start →] on "Try a sample API call" task

**Guided Tutorial:**
```
┌──────────────── Try Your First API Call ─────────────────┐
│                                                            │
│  Let's upload a sample document and retrieve observations.│
│                                                            │
│  Step 1: Set your API key                                 │
│  ┌────────────────────────────────────────────────┐      │
│  │ export API_KEY="tc_sandbox_3K7mP9xQ2jR8..."   │      │
│  │                                      [Copy]    │      │
│  └────────────────────────────────────────────────┘      │
│                                                            │
│  Step 2: Upload a test document                           │
│  ┌────────────────────────────────────────────────┐      │
│  │ curl -X POST \                                 │      │
│  │   https://sandbox.api.truthconstruction.com/   │      │
│  │   v1/uploads \                                 │      │
│  │   -H "Authorization: Bearer $API_KEY" \        │      │
│  │   -F "file=@test_statement.pdf"               │      │
│  │                                      [Copy]    │      │
│  └────────────────────────────────────────────────┘      │
│                                                            │
│  ⓘ  We've provided a test PDF for you to try.            │
│     [Download test_statement.pdf]                         │
│                                                            │
│  Step 3: Check upload status                              │
│  ┌────────────────────────────────────────────────┐      │
│  │ curl https://sandbox.api.truthconstruction.   │      │
│  │   com/v1/uploads/UPLOAD_ID \                  │      │
│  │   -H "Authorization: Bearer $API_KEY"         │      │
│  │                                      [Copy]    │      │
│  └────────────────────────────────────────────────┘      │
│                                                            │
│  Expected response (after ~5 seconds):                    │
│  {"upload_id": "upl_abc123", "status": "parsed"}         │
│                                                            │
│  [Test in Browser] [I've Tried It →]                      │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

**User Actions:**
- Downloads test PDF
- Copies curl command to terminal
- Runs command, sees response
- Clicks [I've Tried It →] to mark complete

---

### Step 3.2: Troubleshooting First API Call

**Common Errors:**

**Error 1: Invalid API Key**
```json
{
  "error": "Unauthorized",
  "message": "Invalid API key",
  "status": 401
}
```

**Help Tooltip:**
```
❌ Invalid API Key

Common causes:
• Typo in API key (check copy-paste)
• Using production key with sandbox URL
  (use sandbox.api.* with sandbox keys)
• Key was revoked (generate new key)

Need help? [Contact Support]
```

**Error 2: File Upload Failed**
```json
{
  "error": "Bad Request",
  "message": "File upload failed: file path does not exist",
  "status": 400
}
```

**Help Tooltip:**
```
❌ File Upload Failed

Common causes:
• File path incorrect (check @test_statement.pdf)
• File does not exist (download test PDF first)
• Missing -F flag (use -F "file=@...")

[Download Test PDF]  [View Upload Guide]
```

**Success Response:**
```json
{
  "upload_id": "upl_abc123",
  "status": "queued",
  "created_at": "2025-10-25T10:15:23Z"
}
```

**Success Confirmation:**
```
✅ Upload successful!

Your document is being processed. Check status:

curl https://sandbox.api.truthconstruction.com/v1/uploads/upl_abc123 \
  -H "Authorization: Bearer $API_KEY"

When status="parsed", retrieve observations:

curl https://sandbox.api.truthconstruction.com/v1/observations?upload_id=upl_abc123 \
  -H "Authorization: Bearer $API_KEY"

[View Full API Reference]  [Continue to Production →]
```

---

## Flow 4: Production Integration

**Goal:** Developer writes production code, deploys to production

### Step 4.1: Switching to Production API Key

**Entry Point:** Dashboard shows prompt: "Ready for production?"

**Generate Production Key:**
```
┌──────────── Generate Production API Key ──────────────┐
│                                                         │
│  Key Name: [Production Key__________________]          │
│                                                         │
│  Environment:                                           │
│    ○ Sandbox (for testing)                             │
│    ● Production (for live traffic)                     │
│                                                         │
│  Scopes:                                                │
│    ☑ Read                                               │
│    ☑ Write                                              │
│    ☐ Admin                                              │
│                                                         │
│  ⚠️  Production keys:                                   │
│     • Process real customer data                       │
│     • Count toward your rate limit (1000 req/hour)     │
│     • Must be stored securely (env variable)           │
│                                                         │
│  [Cancel]                      [Generate Production Key]│
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**User Actions:**
- Enters key name ("Production Key")
- Selects "Production" environment
- Clicks [Generate Production Key]
- Copies key to secure location (env variable)

---

### Step 4.2: Code Integration

**Documentation:** "Integrate Truth Construction API"

**Example (Python):**
```python
import os
import requests

API_KEY = os.environ['TRUTH_API_KEY']  # Never hardcode keys!
API_BASE = 'https://api.truthconstruction.com/v1'

def upload_document(file_path, parser_type):
    """Upload document for processing."""
    with open(file_path, 'rb') as f:
        response = requests.post(
            f'{API_BASE}/uploads',
            headers={'Authorization': f'Bearer {API_KEY}'},
            files={'file': f},
            data={'parser_type': parser_type}
        )
    response.raise_for_status()
    return response.json()

def get_observations(upload_id):
    """Retrieve observations for processed upload."""
    response = requests.get(
        f'{API_BASE}/observations',
        headers={'Authorization': f'Bearer {API_KEY}'},
        params={'upload_id': upload_id}
    )
    response.raise_for_status()
    return response.json()

# Usage
upload = upload_document('statement.pdf', 'bank_statement')
print(f"Upload ID: {upload['upload_id']}")

# Poll for completion (or use webhooks)
import time
while True:
    status = requests.get(
        f"{API_BASE}/uploads/{upload['upload_id']}",
        headers={'Authorization': f'Bearer {API_KEY}'}
    ).json()

    if status['status'] == 'parsed':
        break
    elif status['status'] == 'failed':
        raise Exception(f"Upload failed: {status['error']}")

    time.sleep(5)

# Retrieve observations
observations = get_observations(upload['upload_id'])
print(f"Found {len(observations['observations'])} observations")
```

**Developer Actions:**
- Copies code example
- Adapts to their use case
- Tests locally with sandbox key
- Deploys to production with production key

---

## Flow 5: Setting Up Webhooks

**Goal:** Developer registers webhook for real-time notifications

### Step 5.1: Registering Webhook

**Entry Point:** Dashboard → Webhooks → [+ New Webhook]

**Register Webhook Dialog:**
```
┌──────────────── Register Webhook ─────────────────┐
│                                                     │
│  Webhook URL:                                       │
│  [https://yourapp.com/webhook____________]         │
│  ⓘ Must be HTTPS. No localhost or private IPs.     │
│                                                     │
│  Secret (for signature verification):              │
│  [webhook_secret_abc123___________] [Generate]     │
│  ⓘ Used to verify X-Webhook-Signature header       │
│                                                     │
│  Events:                                            │
│    ☑ upload.completed                               │
│    ☐ upload.failed                                  │
│    ☐ observation.created                            │
│    ☐ entity.resolved                                │
│    ☑ reconciliation.completed                       │
│                                                     │
│  [Cancel]                      [Register Webhook]   │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**User Actions:**
- Enters webhook URL (https://yourapp.com/webhook)
- Clicks [Generate] to auto-generate secret
- Selects events (upload.completed, reconciliation.completed)
- Clicks [Register Webhook]

**Success Confirmation:**
```
✅ Webhook registered!

Webhook will receive events at: https://yourapp.com/webhook

Next Steps:
• Implement webhook handler on your server
• Verify X-Webhook-Signature header (HMAC-SHA256)
• Test webhook with [Test] button

[View Webhook Guide]  [Test Webhook →]
```

---

### Step 5.2: Implementing Webhook Handler

**Documentation:** "Webhook Handler Implementation"

**Example (Python/Flask):**
```python
import hmac
import hashlib
from flask import Flask, request

app = Flask(__name__)
WEBHOOK_SECRET = os.environ['WEBHOOK_SECRET']

@app.route('/webhook', methods=['POST'])
def webhook_handler():
    # Step 1: Verify signature
    signature = request.headers.get('X-Webhook-Signature')
    expected_sig = 'sha256=' + hmac.new(
        WEBHOOK_SECRET.encode('utf-8'),
        request.data,
        hashlib.sha256
    ).hexdigest()

    if not hmac.compare_digest(signature, expected_sig):
        return 'Invalid signature', 401

    # Step 2: Process event
    payload = request.json
    event_type = payload.get('event')

    if event_type == 'upload.completed':
        upload_id = payload['upload_id']
        print(f"Upload {upload_id} completed, processing...")
        # Trigger your business logic here
    elif event_type == 'reconciliation.completed':
        reconciliation_id = payload['reconciliation_id']
        print(f"Reconciliation {reconciliation_id} completed")

    return 'OK', 200

if __name__ == '__main__':
    app.run(port=5000)
```

**Developer Actions:**
- Copies webhook handler code
- Deploys to their server (https://yourapp.com/webhook)
- Tests webhook with [Test] button in dashboard

**Test Webhook:**
```
┌──────────────── Test Webhook ─────────────────────┐
│                                                     │
│  Testing webhook: https://yourapp.com/webhook      │
│                                                     │
│  [Testing...]                                       │
│                                                     │
│  ✅ Test successful!                                │
│                                                     │
│  Status: 200 OK                                     │
│  Response time: 245ms                               │
│  Response body: "OK"                                │
│                                                     │
│  Your webhook is ready to receive events.          │
│                                                     │
│  [Close]                                            │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## Flow 6: Monitoring & Troubleshooting

**Goal:** Developer monitors API usage, handles errors

### Step 6.1: API Usage Dashboard

**Dashboard:**
```
┌────────────────── API Usage Dashboard ─────────────────────┐
│                                                              │
│  Request Volume (Last 7 Days)                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                      ██              │   │
│  │                         ██          ████             │   │
│  │            ██          ████        ██████            │   │
│  │  ██  ██   ████  ██    ██████  ██  ████████  ██      │   │
│  │ ──────────────────────────────────────────────────── │   │
│  │ Mon  Tue  Wed  Thu  Fri  Sat  Sun                   │   │
│  └─────────────────────────────────────────────────────┘   │
│  Total: 4,523 requests                                      │
│                                                              │
│  Rate Limit Usage (Current Hour)                            │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ████████████████████████░░░░░░░░░░░░░░░░░░ 847/1000 │   │
│  └─────────────────────────────────────────────────────┘   │
│  Resets in: 28 minutes                                      │
│                                                              │
│  Top Endpoints (This Week)                                  │
│  • GET /v1/observations     2,145 requests                  │
│  • POST /v1/uploads         1,234 requests                  │
│  • GET /v1/entities           678 requests                  │
│                                                              │
│  Error Rate (Last 24 Hours)                                 │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ● 200-299 (Success):   98.2%                        │   │
│  │ ● 400-499 (Client):     1.5%                        │   │
│  │ ● 500-599 (Server):     0.3%                        │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                              │
│  [View Detailed Logs]  [Download Report]                    │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

---

### Step 6.2: Error Handling

**Common Errors & Resolutions:**

**Error 1: Rate Limit Exceeded**
```json
{
  "error": "Rate Limit Exceeded",
  "message": "You have exceeded your rate limit of 1000 requests per hour",
  "retry_after": 300,
  "status": 429
}
```

**Help Message:**
```
❌ Rate Limit Exceeded

You've hit your hourly rate limit (1000 req/hour).

Solutions:
• Wait 5 minutes (retry_after: 300 seconds)
• Upgrade to Professional tier (5000 req/hour)
• Optimize requests (batch operations, cache results)

[Upgrade Plan]  [View Rate Limits]
```

**Error 2: Invalid Upload (Parser Failed)**
```json
{
  "upload_id": "upl_abc123",
  "status": "failed",
  "error": "Parser failed: Unsupported file format"
}
```

**Help Message:**
```
❌ Upload Failed

Parser could not process document.

Common causes:
• Unsupported file format (use PDF, not DOCX)
• Corrupted PDF (re-save PDF with proper format)
• Wrong parser type (use 'invoice' not 'bank_statement')

[View Supported Formats]  [Retry Upload]
```

---

## Flow 7: API Version Upgrade

**Goal:** Developer migrates from v1 to v2 (during deprecation period)

### Step 7.1: Deprecation Notice

**Dashboard Banner (6 months before sunset):**
```
┌──────────────────────────────────────────────────────────────┐
│  ⚠️  API v1 Will Be Sunset on April 25, 2026                 │
│                                                               │
│  API v1 will stop working in 6 months. Migrate to v2 now.    │
│                                                               │
│  What's New in v2:                                            │
│  • Improved response format (data + metadata structure)      │
│  • Batch upload endpoint (upload multiple files at once)     │
│  • Enhanced error messages with troubleshooting links        │
│                                                               │
│  [View Migration Guide]  [Dismiss]                            │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

**Email Notification:**
```
Subject: Action Required: API v1 Deprecation Notice

Hi Developer,

API v1 will be sunset on April 25, 2026 (in 6 months).

After this date, all v1 endpoints will return HTTP 410 Gone.

Migration Steps:
1. Review breaking changes: [Migration Guide]
2. Test v2 in sandbox: sandbox.api.truthconstruction.com/v2
3. Update production code: Change /v1/ → /v2/ in API URLs
4. Deploy and verify

Need help? Contact support@truthconstruction.com

Best,
Truth Construction API Team
```

---

### Step 7.2: Migration Guide

**Documentation:** "Migrate from API v1 to v2"

**Breaking Changes:**

| Change | v1 | v2 | Migration |
|--------|----|----|-----------|
| Response structure | `{"observations": [...]}` | `{"data": [...], "metadata": {...}}` | Update JSON parsing: `response['data']` |
| Error format | `{"error": "..."}` | `{"type": "...", "detail": "..."}` (RFC 7807) | Update error handling |
| Upload endpoint | POST /v1/uploads (single) | POST /v2/uploads (single or batch) | No change needed (backward compatible) |

**Migration Checklist:**

```
☐ 1. Update API URLs (/v1/ → /v2/)
☐ 2. Update response parsing (observations → data)
☐ 3. Update error handling (error → detail)
☐ 4. Test in sandbox (sandbox.api.*/v2)
☐ 5. Deploy to production
☐ 6. Monitor for errors (check dashboard)
☐ 7. Remove v1 code after verification
```

**Code Diff Example:**
```python
# Before (v1)
response = requests.get(
    'https://api.truthconstruction.com/v1/observations',
    headers={'Authorization': f'Bearer {API_KEY}'}
)
observations = response.json()['observations']  # v1 format

# After (v2)
response = requests.get(
    'https://api.truthconstruction.com/v2/observations',  # Changed URL
    headers={'Authorization': f'Bearer {API_KEY}'}
)
observations = response.json()['data']  # v2 format (changed)
```

---

## UX Principles Applied

### 1. Progressive Disclosure
- Show simple quick-start first (curl example)
- Reveal complex features gradually (webhooks, batch uploads)
- Allow skipping optional steps (webhooks not required)

### 2. Clear Guidance
- Decision tree for API key vs OAuth2 (clear use-case-based guidance)
- Step-by-step tutorials with [Copy] buttons
- Contextual help tooltips for errors

### 3. Fast Time-to-Value
- First API call within 10 minutes (registration → key → test call)
- Pre-built curl examples (no code required for testing)
- Test PDF provided (no need to find own document)

### 4. Error Recovery
- Inline error messages with troubleshooting steps
- [Contact Support] button on every error
- Retry button for failed operations

### 5. Proactive Communication
- Dashboard banners for deprecations (6 months advance warning)
- Email notifications at key milestones
- Weekly usage reports (optional, can subscribe)

---

## Metrics to Measure Success

| Metric | Target | Measurement |
|--------|--------|-------------|
| Time to First API Call | < 10 minutes | Track: signup → first successful API request |
| API Adoption Rate | > 70% of signups make API call within 7 days | Track: users who make ≥1 API call in first week |
| Webhook Setup Rate | > 30% of users register webhook | Track: users with ≥1 active webhook |
| Migration Success Rate | > 95% migrate v1 → v2 before sunset | Track: v1 usage vs v2 usage over time |
| Error Resolution Rate | < 5% of errors result in support ticket | Track: error events vs support ticket creations |
| Documentation NPS | > 40 | Survey: "How likely are you to recommend our API docs?" |

---

## Wireframes Reference

- Figure 5.5.1: API Documentation Homepage
- Figure 5.5.2: API Reference (Swagger UI)
- Figure 5.5.3: API Key Management Panel
- Figure 5.5.4: Webhook Management Panel
- Figure 5.5.5: API Usage Dashboard
- Figure 5.5.6: Migration Guide Page

---

## Related UX Flows

- **UX Flow 5.4:** Security & Access (related to API authentication)
- **UX Flow 1.1:** Upload Flow (related to POST /v1/uploads endpoint)
- **UX Flow 2.1:** Entity Resolution (related to GET /v1/entities endpoint)
