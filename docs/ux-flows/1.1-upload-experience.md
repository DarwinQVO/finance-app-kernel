# UX Flow: Upload Experience (Vertical 1.1)

**Version**: 1.0
**Last Updated**: 2025-10-22

---

## Screen: Upload Page

### Wireframe (Desktop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Finance App                                    [@user] [âš™]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Upload Bank Statement                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚                                                              â”‚
â”‚  Source Type                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Bank of America PDF Statement           [â–¼]   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“„ Drag & drop PDF here or click to browse        â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚             [Choose File]                           â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Accepted: PDF files up to 50MB                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚                                                              â”‚
â”‚  Recent Uploads                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ statement_jan_2024.pdf    [âœ“ Parsed]    10:32 AM    â”‚   â”‚
â”‚  â”‚ statement_dec_2023.pdf    [âœ… Complete]  Yesterday   â”‚   â”‚
â”‚  â”‚ large_file.pdf            [âŒ Error]     10:15 AM    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  [< Previous] Page 1 of 3 [Next >]                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Journey 1: Successful Upload

### Steps

**1. User lands on upload page**
```
State: idle
Components visible:
- RegistrySelect (source type)
- FileUpload (drag & drop area)
- UploadList (recent uploads)
```

**2. User selects source type**
```
Action: Click dropdown
â†’ Shows: "Bank of America PDF Statement"
â†’ User clicks option
â†’ sourceType = "bofa_pdf"
```

**3. User drags PDF over upload area**
```
State: dragover
Visual change:
- Border highlights (green dashed â†’ solid green)
- Background tint (light blue)
- Text changes: "Drop file to upload"
```

**4. User drops file**
```
Event: onDrop
â†’ Component validates file
  - Check MIME type: application/pdf âœ“
  - Check size: 2.4MB < 50MB âœ“
â†’ onFileSelect(file) called
```

**5. Frontend uploads file to backend**
```
POST /uploads
  Content-Type: multipart/form-data
  file: <binary>
  source_type: "bofa_pdf"

Response (201 Created):
  {
    "upload_id": "UL_abc123",
    "status": "queued_for_parse",
    "upload_log_ref": "/logs/uploads/UL_abc123.log"
  }
```

**6. UI updates**
```
- Toast notification: "âœ“ File uploaded successfully"
- New row added to UploadList:
  statement_feb_2024.pdf    [ğŸ•’ Queued]    now

- FileUpload resets to idle state
```

**7. Backend processes file (background)**
```
T+0s:   status = "queued_for_parse"
T+2s:   Coordinator â†’ "parsing"
T+5s:   Parser completes â†’ Coordinator â†’ "parsed"
T+6s:   Coordinator â†’ "normalizing"
T+8s:   Normalizer completes â†’ Coordinator â†’ "normalized"
```

**8. UI polls for updates (every 5s)**
```
GET /uploads/UL_abc123

T+0s:  { status: "queued_for_parse" }
       UI shows: [ğŸ•’ Queued]

T+5s:  { status: "parsing" }
       UI shows: [â³ Parsing...]

T+10s: { status: "parsed", observations_count: 42 }
       UI shows: [âœ“ Parsed]

T+15s: { status: "normalized", canonicals_count: 42 }
       UI shows: [âœ… Complete]
       Poll stops
```

**Final state**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ statement_feb_2024.pdf    [âœ… Complete]    10:35 AM     â”‚
â”‚ statement_jan_2024.pdf    [âœ“ Parsed]      10:32 AM     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Journey 2: Duplicate Upload

### Steps

**1-4. Same as Journey 1**

**5. Backend detects duplicate**
```
POST /uploads
  file: statement_jan_2024.pdf (hash: sha256:abc123...)

Backend:
â†’ Calculate hash
â†’ Check FileArtifact table
â†’ Hash exists! (uploaded 3 hours ago)
â†’ Return 409 Conflict

Response (409):
  {
    "error": "duplicate",
    "upload_id": "UL_existing",
    "file_hash": "sha256:abc123...",
    "upload_log_ref": "/logs/uploads/UL_existing.log"
  }
```

**6. UI shows duplicate dialog**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Duplicate File Detected                â”‚
â”‚                                          â”‚
â”‚  This file was already uploaded:         â”‚
â”‚  statement_jan_2024.pdf                  â”‚
â”‚  Uploaded: 3 hours ago                   â”‚
â”‚  Status: âœ… Complete                     â”‚
â”‚                                          â”‚
â”‚  [View Existing Upload]  [Cancel]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**7. User clicks "View Existing Upload"**
```
â†’ Navigate to /uploads/UL_existing
â†’ Shows full upload detail page
```

**Alternative**: User clicks "Cancel"
```
â†’ Dialog closes
â†’ FileUpload resets to idle
â†’ No new record created
```

---

## User Journey 3: Upload Error (File Too Large)

### Steps

**1. User selects 75MB PDF file**
```
Action: Click "Choose File" â†’ selects large_file.pdf (75MB)
```

**2. Client-side validation fails**
```
FileUpload component:
â†’ Check file size: 75MB > 50MB âŒ
â†’ onError({
    code: "FILE_TOO_LARGE",
    message: "File exceeds 50MB limit"
  })
```

**3. UI shows error**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ File too large                                       â”‚
â”‚                                                          â”‚
â”‚  File: large_file.pdf (75MB)                            â”‚
â”‚  Maximum allowed: 50MB                                   â”‚
â”‚                                                          â”‚
â”‚             [Try Again]                                  â”‚
â”‚                                                          â”‚
â”‚  Accepted: PDF files up to 50MB                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**4. User clicks "Try Again"**
```
â†’ Error clears
â†’ Component resets to idle
â†’ User can select different file
```

---

## User Journey 4: Backend Parsing Error

### Steps

**1-5. User uploads corrupted PDF**

**6. Backend starts parsing**
```
T+0s:  status = "queued_for_parse"
T+2s:  Coordinator â†’ "parsing"
       Parser worker starts

T+10s: Parser fails (PDF corrupt, can't extract text)
       â†’ parse.failed event
       â†’ Coordinator â†’ "error"
       â†’ error_message = "PDF_CORRUPT: Unable to extract text"
```

**7. UI polls and shows error**
```
GET /uploads/UL_abc123
{
  "upload_id": "UL_abc123",
  "status": "error",
  "error_message": "PDF_CORRUPT: Unable to extract text",
  "parse_log_ref": "/logs/parse/UL_abc123.log.json"
}

UI updates UploadList:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ corrupted.pdf    [âŒ Error: PDF corrupt]    10:40 AM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**8. User clicks on row**
```
â†’ Opens detail modal:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upload Details: corrupted.pdf                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                          â”‚
â”‚  Status: âŒ Error                                        â”‚
â”‚  Error: PDF_CORRUPT: Unable to extract text             â”‚
â”‚                                                          â”‚
â”‚  Timeline:                                               â”‚
â”‚  10:38 AM - Uploaded                                     â”‚
â”‚  10:38 AM - Queued for parsing                           â”‚
â”‚  10:39 AM - Parsing started                              â”‚
â”‚  10:40 AM - Parsing failed                               â”‚
â”‚                                                          â”‚
â”‚  Logs:                                                   â”‚
â”‚  - Upload log: /logs/uploads/UL_abc123.log              â”‚
â”‚  - Parse log: /logs/parse/UL_abc123.log.json            â”‚
â”‚                                                          â”‚
â”‚  [Retry]  [Download Original]  [Delete]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**9. User clicks "Retry"** (Future feature)
```
â†’ POST /uploads/UL_abc123/retry
â†’ Backend resets status to "queued_for_parse"
â†’ Parser re-runs
```

---

## Responsive Design

### Mobile (< 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â‰¡] Finance    [@] [âš™] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚ Upload Statement        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚                         â”‚
â”‚ Source Type             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ BoFA PDF       [â–¼] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ“„ Tap to         â”‚ â”‚
â”‚ â”‚    browse          â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚  [Choose File]     â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚  PDF up to 50MB    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ Recent Uploads          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ statement_jan.pdf  â”‚ â”‚
â”‚ â”‚ [âœ… Complete]      â”‚ â”‚
â”‚ â”‚ 10:32 AM           â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ large_file.pdf     â”‚ â”‚
â”‚ â”‚ [âŒ Error]         â”‚ â”‚
â”‚ â”‚ 10:15 AM           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ [Load More]             â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Changes from desktop**:
- Hamburger menu (â‰¡) instead of full nav
- Single column layout
- Drag & drop replaced with "Tap to browse" (iOS doesn't support drag & drop well)
- Upload list items stacked vertically
- Pagination replaced with "Load More" button

---

## Loading States

### During Upload (File Transfer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Uploading statement_feb_2024.pdf...                     â”‚
â”‚                                                          â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 65%                       â”‚
â”‚                                                          â”‚
â”‚  2.4MB / 3.7MB                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### During Processing (Backend)

```
UploadList row animates:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ statement_feb_2024.pdf    [â³ Parsing...] âŸ³   10:35 AM   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†‘
                           Spinner icon animates
```

---

## Empty States

### No Uploads Yet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          â”‚
â”‚                    ğŸ“„                                    â”‚
â”‚                                                          â”‚
â”‚           No uploads yet                                 â”‚
â”‚                                                          â”‚
â”‚  Upload your first bank statement to get started         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Filtered (No Results)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Filter: Status = Error                                  â”‚
â”‚                                                          â”‚
â”‚                    ğŸ”                                    â”‚
â”‚                                                          â”‚
â”‚           No uploads match your filters                  â”‚
â”‚                                                          â”‚
â”‚  [Reset Filters]                                         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Notifications / Toasts

### Success
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ File uploaded successfully    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ Green background, auto-dismiss 3s
```

### Error
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ— Upload failed: File too large â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ Red background, stays until dismissed
```

### Processing Complete
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ statement_feb_2024.pdf processed   â”‚
â”‚   42 transactions found              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ Green background, auto-dismiss 5s
```

---

## Accessibility Features

### Keyboard Navigation

```
Tab order:
1. Source type dropdown
2. File upload area (activatable with Enter/Space)
3. Recent uploads list (arrow keys to navigate rows)
4. Pagination controls

Escape key: Close modals
Enter key: Activate focused element
```

### Screen Reader Announcements

```
On file select:
"File selected: statement_feb_2024.pdf, 2.4 megabytes"

On upload success:
"Upload successful. File is queued for processing."

On status change:
"statement_feb_2024.pdf status changed to Parsing"
"statement_feb_2024.pdf status changed to Complete. 42 transactions found."

On error:
"Upload failed. File too large. Maximum size is 50 megabytes."
```

---

## Decision Points

### 1. Polling vs WebSocket for Status Updates

**Current (v1)**: Polling every 5s
- **Pros**: Simple, works everywhere
- **Cons**: Latency, unnecessary requests

**Future (v2)**: WebSocket
- **Pros**: Real-time, efficient
- **Cons**: More complex, requires WS server

**Decision**: Start with polling, migrate to WebSocket in v2 if needed

---

### 2. Progress Bar During Upload

**Current (v1)**: Show progress bar for files > 5MB
- **Pros**: User feedback, prevents anxiety
- **Cons**: Requires chunked upload implementation

**Implementation**:
```javascript
xhr.upload.onprogress = (e) => {
  if (e.lengthComputable) {
    const percent = (e.loaded / e.total) * 100
    updateProgressBar(percent)
  }
}
```

---

### 3. Duplicate Dialog vs Inline Error

**Current (v1)**: Modal dialog with "View Existing" link
- **Pros**: Clear, actionable
- **Cons**: Interrupts flow

**Alternative**: Toast notification
- **Pros**: Less intrusive
- **Cons**: Harder to provide link to existing upload

**Decision**: Use modal (more informative)

---

## Performance Targets

| Metric | Target | Notes |
|--------|--------|-------|
| Time to interactive | < 2s | First paint + JS loaded |
| Upload latency (10MB) | < 3s | Network dependent |
| Poll interval | 5s | Balance between freshness and load |
| List render (100 items) | < 100ms | Virtualization if needed |

---

**Status**: Complete
**Next**: Implement components using this UX spec
